webpackJsonp([1],{10:function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(12)),a=u(n(234)),o=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._currentTestIndex=0}return r(e,[{key:"setCurrentHistory",value:function(e){var n=this;return new Promise(function(r,u){o.default.getCurrentHistory()&&Object.is(o.default.getCurrentHistory()._id,e._id)?r(o.default.getCurrentHistory()):o.default.setCurrentHistory(e._id).then(function(e){if(e&&e._id){var u={history:e._id},s=t.route.get().replace(/\?(.*)/g,"");t.route.set(s+"?"+a.default.stringify(u))}n._currentTestIndex=0,i.default.isEmpty(o.default.getCurrentHistory().visualTests)||(o.default.setCurrentVisualTest(o.default.getCurrentHistory().visualTests[n._currentTestIndex]),o.default.setCurrentVisualTestReference(o.default.getCurrentVisualTest())),r(o.default.getCurrentHistory())}).catch(function(e){console.warn("StateService.setCurrentHistory err",e),u(e)})})}},{key:"setPreviousVisualTest",value:function(){i.default.isEmpty(o.default.getCurrentHistory().visualTests)||0===this._currentTestIndex||(this._currentTestIndex=this._currentTestIndex-1,o.default.setCurrentVisualTest(o.default.getCurrentHistory().visualTests[this._currentTestIndex]),o.default.setCurrentVisualTestReference(o.default.getCurrentVisualTest()))}},{key:"setNextVisualTest",value:function(){i.default.isEmpty(o.default.getCurrentHistory().visualTests)||o.default.getCurrentHistory().visualTests.length===this._currentTestIndex+1||(this._currentTestIndex=this._currentTestIndex+1,o.default.setCurrentVisualTest(o.default.getCurrentHistory().visualTests[this._currentTestIndex]),o.default.setCurrentVisualTestReference(o.default.getCurrentVisualTest()))}},{key:"approveCurrentTest",value:function(){var e=this;return this.hideDetailsPanel(),o.default.approveTest(o.default.getCurrentVisualTest()).then(function(){return e.setNextVisualTest()})}},{key:"showDetailsPanel",value:function(){o.default.setDetailsPanelVisibility(!0)}},{key:"hideDetailsPanel",value:function(){o.default.setDetailsPanelVisibility(!1)}}]),e}();e.exports=new s}).call(t,n(6))},11:function(e,t,n){"use strict";var r=n(49),i=n(237),a=n(238),o=n(240),u=n(241),s=n(242),l=n(243),c={Booleans:r.Booleans,Colors:i.Colors,Dates:a.Dates,Images:o.Images,Numbers:u.Numbers,Objects:s.Objects,Strings:l.Strings};e.exports=c},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(o(n(12)),n(11)),a=o(n(248));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handleObservingDataChanges=this._handleObservingDataChanges.bind(this),this._data={},this._observers=new Map,this._subscribers=new Set}return r(e,[{key:"subscribe",value:function(e,t,n){if(Object.is(e,void 0))throw new Error("keyPath is required to subscribe data service");if(Object.is(t,void 0))throw new Error("fn is required to subscribe data service");var r={instance:n,id:i.Strings.random(6),keyPath:e,handler:t,proxy:this._createObservableProxy(e)};return this._subscribers.add(r),r}},{key:"unsubscribe",value:function(e){this._subscribers.delete(e)}},{key:"unsubscribeAll",value:function(){this._subscribers.clear()}},{key:"broadcastDataChanges",value:function(e,t){var n=this._data[e],r=!0,i=!1,a=void 0;try{for(var o,u=this._subscribers[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=o.value;if(Object.is(s,void 0))return;Object.is(s.keyPath,e)&&!Object.is(t,s)&&s.handler(e,n)}}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}}},{key:"destroy",value:function(){for(var e in this.unsubscribeAll(),this)this.hasOwnProperty(e)&&delete this[e]}},{key:"_createObservableProxy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._handleObservingDataChanges;return this._observers.has(e)||this._observers.set(e,a.default.create(this._data[e],!0,function(n){t(n,e)})),this._observers.get(e)}},{key:"_handleObservingDataChanges",value:function(e,t){return this.broadcastDataChanges(t),!0}}]),e}();t.default=u},174:function(e,t,n){"use strict";e.exports={imageViewerId:"image-viewer"}},226:function(e,t,n){n(227),e.exports=n(229)},227:function(e,t,n){"use strict";n(228)},228:function(e,t){},229:function(e,t,n){"use strict";(function(e){var t=i(n(232)),r=i(n(369));function i(e){return e&&e.__esModule?e:{default:e}}e.route(document.body.querySelector("#root"),"/splash",{"/splash":r.default,"/landing":t.default})}).call(t,n(6))},232:function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(233)),a=u(n(249)),o=u(n(251));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="Landing page"}return r(e,[{key:"oninit",value:function(e){i.default.initState().then(function(n){e.state.histories=n,t.redraw()})}},{key:"view",value:function(e){return t(".b-page.b-page--bg-dark",i.default.isReady()?[t("h1.sr-only",""+e.state.title),t(".b-section-container",[t(".grid.grid--flush",[t(".1/10 grid__cell",[t(a.default)]),t(".9/10 grid__cell",[t(o.default)])])])]:[])}}]),e}()}).call(t,n(6))},233:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(10)),a=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isReady=!1}return r(e,[{key:"initState",value:function(){var e=this;return new Promise(function(t,n){a.default.fetchHistoryList().then(function(n){i.default.setCurrentHistory(n[0]).then(function(r){e._isReady=!0,t(n)})})})}},{key:"isReady",value:function(){return this._isReady}}]),e}();e.exports=new u},237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Colors=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(49),o=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"rgb2rgba",value:function(e,t){return e?(t=o.default.isTruthyValue(t)?t:1,e.replace(/rgb/i,"rgba").replace(/\)/i,", "+t+")")):null}},{key:"hex2rgb",value:function(e){return e?(n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=e.toString().replace(n,function(e,t,n,r){return t+t+n+n+r+r}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?"gb("+parseInt(t[1],16)+","+parseInt(t[2],16)+", "+parseInt(t[3],16)+")":null):null;var t,n}},{key:"hex2rgbObj",value:function(e){if(!e)return null;var t,n;return n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=e.toString().replace(n,function(e,t,n,r){return t+t+n+n+r+r}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},{key:"rgb2hex",value:function(e,t,n){if(!e||!t||!n)return null;if(e>255||t>255||n>255)return null;if(e<0||t<0||n<0)return null;var r;return"#"+(r=function(e){var t;return 1===(t=e.toString(16)).length?"0"+t:t})(e)+r(t)+r(n)}},{key:"colorLuminance",value:function(e,t){if(!this.hex2rgb(e)||t>1||t<-1)return null;var n=void 0,r=void 0,i=void 0,a="#";for((e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0,r=i=0;i<=2;r=i+=1)n=parseInt(e.substr(2*r,2),16),a+=("00"+(n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16))).substr(n.length);return a}}]),e}();t.Colors=u},238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dates=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(0)),a=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getDateUTCFormat",value:function(e){return i.default.utc(e)._f}},{key:"getCurrentYear",value:function(){return(new Date).getFullYear()}},{key:"getHour",value:function(e){return a.default.includes(this.getDateUTCFormat(e),"HH")?(0,i.default)(e).format("ha"):""}},{key:"getHourMinute",value:function(e){return a.default.includes(this.getDateUTCFormat(e),"HH:mm")?(0,i.default)(e).format("h.mma").replace(".00",""):""}},{key:"getDate",value:function(e){return(0,i.default)(e).format("D")+" "+(0,i.default)(e).format("MMMM")+" "+(0,i.default)(e).format("YYYY")}},{key:"getHourAndDate",value:function(e){return a.default.isEmpty(this.getHour(e))?this.getDate(e):this.getHour(e)+", "+this.getDate(e)}},{key:"getHourMinuteAndDate",value:function(e){return a.default.isEmpty(this.getHour(e))?this.getDate(e):this.getHourMinute(e)+", "+this.getDate(e)}}]),e}();t.Dates=u},240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getRatio",value:function(e){return e.width/e.height}},{key:"getImageCenterParams",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.originParams;r&&(i={width:t.width,height:t.height,ratio:e.getRatio(t)});var a={originParams:i,ratio:i.ratio||e.getRatio(t),width:i.width||t.width,height:i.height||t.height,positionX:0,positionY:0},o=n.offsetWidth;return a.width>o?(a.width=o,a.height=a.width/a.ratio):a.positionX=(o-t.width)/2,a}}]),e}();t.Images=i},241:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"isNumber",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{key:"stripNonNumericCharacters",value:function(e){return parseFloat(e.toString().replace(/[^\d.-]/g,""),10)}}]),e}();t.Numbers=i},242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Objects=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(12),o=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"filterObjectProperties",value:function(e,t){var n={};if(!o.default.isUndefined(e)&&!o.default.isUndefined(t)){if(o.default.isObject(e))return o.default.forOwn(e,function(e,r){t.hasOwnProperty(r)&&(n[r]=e)}),n;console.warn("invalid object to convert: ",e)}}},{key:"empty",value:function(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e}},{key:"makeEnum",value:function(e,t){return new Proxy(t,{set:function(e,t,n){throw new TypeError("Enum is read only")},get:function(n,r){if("nameOf"===r)return function(n){for(var r=Object.keys(t),i=0;i<r.length;i+=1){var a=r[i];if(t[a]===n)return e+"."+a}}.bind(n);if(!(r in n))throw new ReferenceError('Unknown enum key "'+r+'"');return Reflect.get(n,r)},deleteProperty:function(e,t){throw new TypeError("Enum is read only")}})}}]),e}();t.Objects=u},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"random",value:function(e){return Math.random().toString(36).substr(2,e&&e<=12?e:12)}},{key:"truncate",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.length>t,i=r?e.substr(0,t-1):e;return i=n&&r?i.substr(0,i.lastIndexOf(" ")):i,r?i+"...":i}},{key:"removeEmptyHtmlTags",value:function(e,t){return e.replace(t,"").replace(/(<(?!\/)[^>]+>)+(<\/[^>]+>)/gm,"")}},{key:"removeLineBreaks",value:function(e){return e.replace(/\r?\n|\r|&lt;br&gt;|<br>|<br\/>/g,"")}},{key:"getMediaTimeStringFromSeconds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=parseInt(e),n=Math.floor(e/3600);t-=3600*n;var r=Math.floor(t/60);t-=60*r;var i="";return n>0&&(i=i+n+" hour "),r>0&&(i=i+r+" min "),i=i+t+" sec"}},{key:"upperCaseFirstChar",value:function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}},{key:"md5",value:function(e){var t;function n(e,t,n,r,i,a){return u(function(e,t){return e<<t|e>>>32-t}(u(u(t,e),u(r,a)),i),n)}function r(e,t,r,i,a,o,u){return n(t&r|~t&i,e,t,a,o,u)}function i(e,t,r,i,a,o,u){return n(t&i|r&~i,e,t,a,o,u)}function a(e,t,r,i,a,o,u){return n(t^r^i,e,t,a,o,u)}function o(e,t,r,i,a,o,u){return n(r^(t|~i),e,t,a,o,u)}function u(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return function(e){for(var t,n="0123456789ABCDEF",r="",i=0;i<e.length;i++)t=e.charCodeAt(i),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}(function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}(function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,s=-271733879,l=-1732584194,c=271733878,f=0;f<e.length;f+=16){var d=n,h=s,p=l,v=c;s=o(s=o(s=o(s=o(s=a(s=a(s=a(s=a(s=i(s=i(s=i(s=i(s=r(s=r(s=r(s=r(s,l=r(l,c=r(c,n=r(n,s,l,c,e[f+0],7,-680876936),s,l,e[f+1],12,-389564586),n,s,e[f+2],17,606105819),c,n,e[f+3],22,-1044525330),l=r(l,c=r(c,n=r(n,s,l,c,e[f+4],7,-176418897),s,l,e[f+5],12,1200080426),n,s,e[f+6],17,-1473231341),c,n,e[f+7],22,-45705983),l=r(l,c=r(c,n=r(n,s,l,c,e[f+8],7,1770035416),s,l,e[f+9],12,-1958414417),n,s,e[f+10],17,-42063),c,n,e[f+11],22,-1990404162),l=r(l,c=r(c,n=r(n,s,l,c,e[f+12],7,1804603682),s,l,e[f+13],12,-40341101),n,s,e[f+14],17,-1502002290),c,n,e[f+15],22,1236535329),l=i(l,c=i(c,n=i(n,s,l,c,e[f+1],5,-165796510),s,l,e[f+6],9,-1069501632),n,s,e[f+11],14,643717713),c,n,e[f+0],20,-373897302),l=i(l,c=i(c,n=i(n,s,l,c,e[f+5],5,-701558691),s,l,e[f+10],9,38016083),n,s,e[f+15],14,-660478335),c,n,e[f+4],20,-405537848),l=i(l,c=i(c,n=i(n,s,l,c,e[f+9],5,568446438),s,l,e[f+14],9,-1019803690),n,s,e[f+3],14,-187363961),c,n,e[f+8],20,1163531501),l=i(l,c=i(c,n=i(n,s,l,c,e[f+13],5,-1444681467),s,l,e[f+2],9,-51403784),n,s,e[f+7],14,1735328473),c,n,e[f+12],20,-1926607734),l=a(l,c=a(c,n=a(n,s,l,c,e[f+5],4,-378558),s,l,e[f+8],11,-2022574463),n,s,e[f+11],16,1839030562),c,n,e[f+14],23,-35309556),l=a(l,c=a(c,n=a(n,s,l,c,e[f+1],4,-1530992060),s,l,e[f+4],11,1272893353),n,s,e[f+7],16,-155497632),c,n,e[f+10],23,-1094730640),l=a(l,c=a(c,n=a(n,s,l,c,e[f+13],4,681279174),s,l,e[f+0],11,-358537222),n,s,e[f+3],16,-722521979),c,n,e[f+6],23,76029189),l=a(l,c=a(c,n=a(n,s,l,c,e[f+9],4,-640364487),s,l,e[f+12],11,-421815835),n,s,e[f+15],16,530742520),c,n,e[f+2],23,-995338651),l=o(l,c=o(c,n=o(n,s,l,c,e[f+0],6,-198630844),s,l,e[f+7],10,1126891415),n,s,e[f+14],15,-1416354905),c,n,e[f+5],21,-57434055),l=o(l,c=o(c,n=o(n,s,l,c,e[f+12],6,1700485571),s,l,e[f+3],10,-1894986606),n,s,e[f+10],15,-1051523),c,n,e[f+1],21,-2054922799),l=o(l,c=o(c,n=o(n,s,l,c,e[f+8],6,1873313359),s,l,e[f+15],10,-30611744),n,s,e[f+6],15,-1560198380),c,n,e[f+13],21,1309151649),l=o(l,c=o(c,n=o(n,s,l,c,e[f+4],6,-145523070),s,l,e[f+11],10,-1120210379),n,s,e[f+2],15,718787259),c,n,e[f+9],21,-343485551),n=u(n,d),s=u(s,h),l=u(l,p),c=u(c,v)}return Array(n,s,l,c)}(function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}(t=e),8*t.length))).toLowerCase()}}]),e}();t.Strings=i},244:function(e,t,n){"use strict";e.exports={apiRootPath:"http://localhost:7070"}},245:function(e,t,n){"use strict";var r=n(246),i=n(247),a={History:r.History,Visual:i.Visual};e.exports=a},246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.History=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(12),o=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"sortHistory",value:function(e){return o.default.orderBy(e,["weight"],["desc"])}}]),e}();t.History=u},247:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Visual=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(12),o=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"sortTestResults",value:function(e){return o.default.sortBy(e,["pass"])}},{key:"findTestReference",value:function(e,t){return t.find(function(t){return Object.is(t.visualScreenshot,e.visualScreenshot)})}}]),e}();t.Visual=u},249:function(e,t,n){"use strict";(function(t){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n(11),n(250)),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="History List view",this.histories=[]}return i(e,[{key:"oninit",value:function(e){console.log("HistoryListView init"),o.default.getHistoryList().then(function(n){e.state.histories=n,t.redraw()})}},{key:"view",value:function(e){return t("div.b-history-list-menu",[t("h2.sr-only",""+e.state.title),t("ul.b-item-list",e.state.histories.map(function(e){return t("li..b-history-list-menu__item.b-item-list__item"+(e.visualFailedTotal>0&&".b-history-list-menu__item--failed"),[t("a.b-link.b-link--block.b-box.b-box--padding-brick-sm.b-text.b-text--label[href=javascript:void(0);]",{onclick:function(){o.default.setCurrentHistory(e)}},[t("span.b-text.b-text--uppercase",""+e.server),t("span.sr-only"," | "+e.visualFailedTotal)])])}))])}}]),e}()}).call(t,n(6))},250:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(10)),a=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getHistoryList",value:function(){return a.default.fetchHistoryList()}},{key:"setCurrentHistory",value:function(e){return i.default.setCurrentHistory(e)}}]),e}();e.exports=new u},251:function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(252)),a=f(n(253)),o=f(n(359)),u=f(n(361)),s=f(n(363)),l=f(n(365)),c=f(n(367));function f(e){return e&&e.__esModule?e:{default:e}}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="VisualResultContainer"}return r(e,[{key:"view",value:function(e){return t(".b-visual-result-container.grid.grid--flush",[t(".4/5.grid__cell.b-overlay__container",[t("h2.sr-only",""+e.state.title),i.default.isDetailsPanelVisible()&&t(".b-overlay__cover.b-visual-result-container__details-container",[t(u.default)]),t(a.default)]),t(".1/5.grid__cell",[t(".b-box--padding-left-md-llg.b-box--padding-right-md-llg",[t(".b-visual-result-container__nav-map.b-box--padding-top-base.b-box--margin-bottom-base",[t(o.default)]),t(".b-visual-result-container__button-group",[t(c.default),t(l.default),t(s.default)])])])])}},{key:"onupdate",value:function(){console.log("onupdate VisualResultContainer")}}]),e}()}).call(t,n(6))},252:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(a(n(10)),a(n(7)));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"isDetailsPanelVisible",value:function(){return i.default.isDetailsPanelVisible()}}]),e}();e.exports=new o},253:function(e,t,n){"use strict";(function(t){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(254),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="VisualComparePanelView"}return i(e,[{key:"oncreate",value:function(){o.default.createImageViewer()}},{key:"view",value:function(e){return t("div.b-visual-compare-panel",[t("h3.sr-only",""+e.state.title),t(".b-visual-compare-panel__image-viewer-container",{id:o.default.getImageViewerId()})])}}]),e}()}).call(t,n(6))},254:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(o(n(10)),o(n(7)),o(n(174))),a=o(n(255));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getImageViewerId",value:function(){return i.default.imageViewerId}},{key:"createImageViewer",value:function(){if(this._imageViewer)return this._imageViewer;this._imageViewer=new a.default}}]),e}();e.exports=new u},255:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16)),a=f(n(28)),o=f(n(29)),u=f(n(30)),s=f(n(356)),l=f(n(357)),c=f(n(358));function f(e){return e&&e.__esModule?e:{default:e}}var d="0x363636";i.utils.skipHello();var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._children={},e._element=new i.Application({autoResize:!0,antialias:!0,backgroundColor:d,width:o.default.getContainer().clientWidth,height:o.default.getBodyHeight()}),e._loadComponents(),o.default.getContainer().appendChild(e._element.view),a.default.subscribe("testScreenshot",e.handleScreenshotChange,"TestScreenshot"),a.default.subscribe("referenceScreenshot",e.handleScreenshotChange,"ReferenceScreenshot"),window.addEventListener("resize",e.resize),e.resize(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"_loadComponents",value:function(){this._children.testScreenshot=new s.default,this._children.referenceScreenshot=new l.default,this._children.swipeBar=new c.default,this._element.stage.addChild(this._children.testScreenshot.getElement()),this._element.stage.addChild(this._children.referenceScreenshot.getElement()),this._element.stage.addChild(this._children.swipeBar.getElement())}},{key:"handleScreenshotChange",value:function(){this.resize()}},{key:"getContainerHeight",value:function(){return Math.max(o.default.getBodyHeight(),this._children.testScreenshot.getElement().height,this._children.referenceScreenshot.getElement().height)}},{key:"resize",value:function(){this._element.renderer.resize(o.default.getContainer().clientWidth,this.getContainerHeight())}}]),t}();e.exports=h},28:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16)),a=(s(n(12)),s(n(173))),o=s(n(7)),u=n(11);function s(e){return e&&e.__esModule?e:{default:e}}var l=0,c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleCurrentTestUpdate=e.handleCurrentTestUpdate.bind(e),e.handleCurrentTestReferenceUpdate=e.handleCurrentTestReferenceUpdate.bind(e),e.handleImagesLoaded=e.handleImagesLoaded.bind(e),e._data={testScreenshotId:"",referenceScreenshotId:"",swipeBarPosition:{},testScreenshot:{},referenceScreenshot:{}},e._currentState=l,o.default.subscribe("currentVisualTest",e.handleCurrentTestUpdate,"imageViewerStateService"),o.default.subscribe("currentVisualReference",e.handleCurrentTestReferenceUpdate,"imageViewerStateService"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"handleCurrentTestUpdate",value:function(e,t){this._updateStateFlag(1)}},{key:"handleCurrentTestReferenceUpdate",value:function(e,t){this._updateStateFlag(2)}},{key:"showCurrentResult",value:function(){this._currentState=4,this._getNewScreenshotIds(),i.loader.destroy(),i.loader.add(this._data.testScreenshotId,this.getVisualTestImage()).add(this._data.referenceScreenshotId,this.getVisualTestReferenceImage()).load(this.handleImagesLoaded)}},{key:"setSwipeBarPosition",value:function(e){this._data.swipeBarPosition.x=e.x,this.broadcastDataChanges("swipeBarPosition")}},{key:"getVisualTestImage",value:function(){return""+o.default.getAssetRootPath()+o.default.getCurrentVisualTest().visualScreenshotPath}},{key:"getVisualTestReferenceImage",value:function(){return""+o.default.getAssetRootPath()+o.default.getCurrentVisualTestReference().visualScreenshotPath}},{key:"handleImagesLoaded",value:function(e,t){this._updateStateFlag(7),u.Objects.empty(this._data.testScreenshot),u.Objects.empty(this._data.referenceScreenshot),Object.assign(this._data.testScreenshot,t[this._data.testScreenshotId]),Object.assign(this._data.referenceScreenshot,t[this._data.referenceScreenshotId]),this.broadcastDataChanges("testScreenshot"),this.broadcastDataChanges("referenceScreenshot")}},{key:"_updateStateFlag",value:function(e){7!==e&&7!==this._currentState?(e<3&&this._currentState>3&&(this._currentState=l),this._currentState+=e,3!==this._currentState||this.showCurrentResult()):this._currentState=e}},{key:"_getNewScreenshotIds",value:function(){this._data.testScreenshotId=u.Strings.random(8),this._data.referenceScreenshotId=u.Strings.random(8)}}]),t}();e.exports=new c},29:function(e,t,n){"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(174),o=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"getContainer",value:function(){return document.getElementById(o.default.imageViewerId)}},{key:"getBodyHeight",value:function(){return document.body.clientHeight}}]),e}();e.exports=u},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(16)),n(11));var a=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=i.Strings.random(8),this._options=t,this._element=void 0,this._bindThisToHandlers(),this._element}return r(e,[{key:"getOptions",value:function(){return this._options}},{key:"getElement",value:function(){return this._element}},{key:"destroy",value:function(){this._element.destroy()}},{key:"_bindThisToHandlers",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Object.getOwnPropertyNames(Object.getPrototypeOf(this))[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value,o=this[a];o instanceof Function&&o!==this&&this._validateHandlerProperty(a)&&(this[a]=this[a].bind(this))}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"_validateHandlerProperty",value:function(e){return!(e.startsWith("_")||"function"!=typeof this[e]||!Object.is(["on","off"].find(function(t){return t===e}),void 0))}}]),e}();t.default=a},356:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16)),a=n(11),o=l(n(29)),u=l(n(28)),s=l(n(30));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:a.Strings.random(8)};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._options=e,n._element=new i.Container,n._screenshot=void 0,u.default.subscribe("testScreenshot",n.handleScreenshotChange,"TestScreenshot"),window.addEventListener("resize",n.resize),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"handleScreenshotChange",value:function(e,t){this._screenshot&&(this._element.removeChild(this._screenshot),this._screenshot.destroy()),this._screenshot=new i.Sprite(t.texture),this._options=Object.assign(this._options,a.Images.getImageCenterParams(t.data,o.default.getContainer(),!0)),this._element.addChild(this._screenshot),this.resize()}},{key:"resize",value:function(){this._screenshot&&(this._options=Object.assign(this._options,a.Images.getImageCenterParams(this._options,o.default.getContainer())),this._element.width=this._options.width,this._element.height=this._options.height,this._element.position.x=this._options.positionX,this._element.position.y=this._options.positionY)}}]),t}();e.exports=c},357:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16)),a=n(11),o=l(n(29)),u=l(n(28)),s=l(n(30));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:a.Strings.random(8),subscribeKey:"testScreenshot",isReference:!1};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._options=e,n._element=new i.Container,n._screenshot=void 0,n._mask=void 0,n.createMask(),u.default.subscribe("referenceScreenshot",n.handleScreenshotChange,"ReferenceScreenshot"),n._swipeBarPositionSubscriber=u.default.subscribe("swipeBarPosition",n.handleSwipeBarPositionChange,"ReferenceScreenshot"),window.addEventListener("resize",n.resize),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"createMask",value:function(){this._mask=new i.Graphics,this._mask.beginFill(9160191,1),this._mask.lineStyle(1,9160191,1);var e=o.default.getContainer().clientWidth;this._mask.moveTo(0,0),this._mask.lineTo(0+e,0),this._mask.lineTo(0+e,500),this._mask.lineTo(0,500),this._mask.endFill(),this._mask.position.x=0,this._mask.position.y=0,this._element.addChild(this._mask),this._element.mask=this._mask}},{key:"handleScreenshotChange",value:function(e,t){this._screenshot&&(this._element.removeChild(this._screenshot),this._screenshot.destroy()),this._screenshot=new i.Sprite(t.texture),this._options=Object.assign(this._options,a.Images.getImageCenterParams(t.data,o.default.getContainer(),!0)),this._element.addChild(this._screenshot),this.resize()}},{key:"handleSwipeBarPositionChange",value:function(e,t){this._resizeMask()}},{key:"resize",value:function(){this._resizeMask(),this._screenshot&&(this._options=Object.assign(this._options,a.Images.getImageCenterParams(this._options,o.default.getContainer())),this._screenshot.width=this._options.width,this._screenshot.height=this._options.height,this._screenshot.position.x=this._options.positionX,this._screenshot.position.y=this._options.positionY)}},{key:"_resizeMask",value:function(){this._mask.width=this._swipeBarPositionSubscriber.proxy.x,this._mask.height=o.default.getContainer().clientHeight}}]),t}();e.exports=c},358:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16)),a=(n(11),s(n(29))),o=s(n(30)),u=s(n(28));function s(e){return e&&e.__esModule?e:{default:e}}var l=2,c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._options={width:l,height:a.default.getBodyHeight(),positionX:0,positionY:0},e._draggingData=void 0,e._element=void 0,e._createButtonStyle(),e._registerEventHandlers(),e.resetPosition(),u.default.subscribe("testScreenshot",e.handleScreenshotChange,"Screenshot"),u.default.subscribe("referenceScreenshot",e.handleScreenshotChange,"Screenshot"),window.addEventListener("resize",e.resize),e.resize(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_createButtonStyle",value:function(){this._element=new i.Graphics,this._element.beginFill(84132),this._element.lineStyle(1,84132,1),this._element.moveTo(this._options.positionX,this._options.positionY),this._element.lineTo(this._options.positionX+this._options.width,this._options.positionY),this._element.lineTo(this._options.positionX+this._options.width,this._options.height),this._element.lineTo(this._options.positionX,this._options.height),this._element.endFill(),this._element.interactive=!0,this._element.buttonMode=!0}},{key:"_registerEventHandlers",value:function(){this._element.on("pointerdown",this.onDragStart).on("pointerup",this.onDragEnd).on("pointerupoutside",this.onDragEnd).on("pointermove",this.onDragMove)}},{key:"resetPosition",value:function(){this._element.position.x=(a.default.getContainer().clientWidth-l)/2,u.default.setSwipeBarPosition({x:this._element.position.x})}},{key:"handleScreenshotChange",value:function(e,t){this.resize(),this.resetPosition()}},{key:"resize",value:function(){if(this._element){var e=this._element.height/a.default.getContainer().clientHeight;this._element.position.x=this._element.position.x/e,this._element.height=a.default.getContainer().clientHeight,u.default.setSwipeBarPosition({x:this._element.position.x})}}},{key:"onDragStart",value:function(e){this._draggingData=e.data}},{key:"onDragEnd",value:function(){this._draggingData=void 0}},{key:"onDragMove",value:function(){if(this._draggingData){var e=this._draggingData.getLocalPosition(this._element.parent).x;e<=l&&(this._element.position.x=l),e>=a.default.getContainer().clientWidth-l&&(e=a.default.getContainer().clientWidth-l),this._element.position.x=e,u.default.setSwipeBarPosition({x:this._element.position.x})}}}]),t}();e.exports=c},359:function(e,t,n){"use strict";(function(t){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(360),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="VisualNavigationMapView"}return i(e,[{key:"view",value:function(e){return t("div.b-visual-navigation-map",{style:{"background-image":"url("+o.default.getScreenShot()+")"}},[t("h3.sr-only",""+e.state.title)])}}]),e}()}).call(t,n(6))},360:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(a(n(10)),a(n(7)));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getScreenShot",value:function(){return i.default.getCurrentVisualTest().pass?""+i.default.getAssetRootPath()+i.default.getCurrentVisualTest().visualScreenshotPath:""+i.default.getAssetRootPath()+i.default.getCurrentVisualTest().visualDifferPath}}]),e}();e.exports=new o},361:function(e,t,n){"use strict";(function(t){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(362),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="Details"}return i(e,[{key:"view",value:function(e){return t("div.b-details-panel",[t("h3.b-title.b-title--h2.b-text--label",""+e.state.title),t("p",""+o.default.getTestName()),t("a.b-link",{href:""+o.default.getTestPageUrl()},""+o.default.getTestPageUrl()),o.default.isResultPass()&&t("p","The test is pass."),o.default.isResultFailed()&&t("p","The test is failed."),o.default.isResultApproved()&&t("p","Approved at "+o.default.getTestApprovedDateTime()),t(".b-link--block.b-box--margin-bottom-md-lg"),t("h4.b-title.b-title--h3","Test"),t("p","Created at "+o.default.getTestCreateDateTime()),t("p.b-box--margin-bottom-md-lg","Browser "+o.default.getTestBrowserInfo()),t("h4.b-title.b-title--h3","Reference"),t("p","Created at "+o.default.getReferenceCreateDate()),t("p","Browser: "+o.default.getReferenceBrowserInfo())])}}]),e}()}).call(t,n(6))},362:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(o(n(10)),o(n(7))),a=n(11);function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getTestPageUrl",value:function(){return i.default.getCurrentVisualTest().url}},{key:"getTestName",value:function(){return i.default.getCurrentVisualTest().name}},{key:"getTestCreateDateTime",value:function(){var e=a.Dates.getDate(i.default.getCurrentVisualTest().createdAt);return a.Dates.getHourMinute(i.default.getCurrentVisualTest().createdAt)+", "+e}},{key:"getTestApprovedDateTime",value:function(){if(!i.default.getCurrentVisualTest().approvedAt)return"";var e=a.Dates.getDate(i.default.getCurrentVisualTest().approvedAt);return a.Dates.getHourMinute(i.default.getCurrentVisualTest().approvedAt)+", "+e}},{key:"getReferenceCreateDate",value:function(){var e=a.Dates.getDate(i.default.getCurrentVisualTestReference().createdAt);return a.Dates.getHourMinute(i.default.getCurrentVisualTestReference().createdAt)+", "+e}},{key:"getTestBrowserInfo",value:function(){return i.default.getCurrentVisualTest().browser}},{key:"getReferenceBrowserInfo",value:function(){return i.default.getCurrentVisualTestReference().browser}},{key:"isResultFailed",value:function(){return!i.default.getCurrentVisualTest().pass}},{key:"isResultApproved",value:function(){return i.default.getCurrentVisualTest().pass&&i.default.getCurrentVisualTest().approvedAt}},{key:"isResultPass",value:function(){return i.default.getCurrentVisualTest().pass&&!i.default.getCurrentVisualTest().approvedAt}}]),e}();e.exports=new u},363:function(e,t,n){"use strict";(function(t){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(364),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="VisualSlidePrevView"}return i(e,[{key:"view",value:function(e){return t("div.b-visual-slide-next",[t("h3.sr-only",""+e.state.title),t("a.b-link[href=javascript:void(0);]",{onclick:function(){o.default.setNextTest()}},[t("span","next")])])}}]),e}()}).call(t,n(6))},364:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(a(n(7)),a(n(10)));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"setNextTest",value:function(){i.default.setNextVisualTest()}}]),e}();e.exports=new o},365:function(e,t,n){"use strict";(function(t){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(366),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="VisualSlideNextView"}return i(e,[{key:"view",value:function(e){return t("div.b-visual-slide-next",[t("h3.sr-only",""+e.state.title),t("a.b-link[href=javascript:void(0);]",{onclick:function(){o.default.setPreviousTest()}},[t("span","prev")])])}}]),e}()}).call(t,n(6))},366:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(a(n(7)),a(n(10)));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"setPreviousTest",value:function(){i.default.setPreviousVisualTest()}}]),e}();e.exports=new o},367:function(e,t,n){"use strict";(function(t){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(368),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="ControlMenuView"}return i(e,[{key:"view",value:function(e){return t("div.b-control-menu",[t("h3.sr-only",""+e.state.title),t("a.b-link.b-link--block[href=javascript:void(0);]",{onclick:function(){o.default.toggleDetailsPanel()}},[t("span","show failed only")]),t("a.b-link.b-link--block[href=javascript:void(0);]",{onclick:function(){o.default.toggleDetailsPanel()}},[t("span","show approved only")]),t("a.b-link.b-link--block[href=javascript:void(0);]",{onclick:function(){o.default.toggleDetailsPanel()}},[t("span","toggle details")]),o.default.isResultFailed()&&t("a.b-link.b-link--block[href=javascript:void(0);]",{onclick:function(){o.default.approveTest()}},[t("span","approve test")]),o.default.isResultPass()&&t("p","pass"),o.default.isResultApproved()&&t("p","approved")])}}]),e}()}).call(t,n(6))},368:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(10)),a=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="ControlMenuModel"}return r(e,[{key:"approveTest",value:function(){i.default.approveCurrentTest()}},{key:"toggleDetailsPanel",value:function(){a.default.isDetailsPanelVisible()?i.default.hideDetailsPanel():i.default.showDetailsPanel()}},{key:"isAllApproved",value:function(){}},{key:"hasFailedTests",value:function(){}},{key:"countFailedTotal",value:function(){}},{key:"countApprovedTotal",value:function(){}},{key:"countTotalTests",value:function(){}},{key:"isResultFailed",value:function(){return!a.default.getCurrentVisualTest().pass}},{key:"isResultApproved",value:function(){return a.default.getCurrentVisualTest().pass&&a.default.getCurrentVisualTest().approvedAt}},{key:"isResultPass",value:function(){return a.default.getCurrentVisualTest().pass&&!a.default.getCurrentVisualTest().approvedAt}}]),e}();e.exports=new u},369:function(e,t,n){"use strict";(function(t){var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(370),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._looper=null,this._dataLoaded=!1,this._routeToMainInvokedCount=0}return i(e,[{key:"oninit",value:function(){var e=this;this._dataLoaded=!1,Promise.all([o.default.fetchHistoryList()]).then(function(){e._dataLoaded=!0,e._routeToMainInvokedCount&&e.routeToMain()})}},{key:"view",value:function(){return t(".holder",[t(".preloader",[t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div")])])}},{key:"oncreate",value:function(){this._looper=setTimeout(this.routeToMain.bind(this),2e3)}},{key:"routeToMain",value:function(){this._routeToMainInvokedCount++,this._dataLoaded&&(clearTimeout(this._looper),t.route.set("/landing"))}}]),e}()}).call(t,n(6))},370:function(e,t,n){"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),o=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"fetchHistoryList",value:function(){return o.default.fetchHistoryList()}}]),e}();e.exports=new u},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"isTruthyValue",value:function(e){return!(!e&&0!==parseInt(e,10))}}]),e}();t.Booleans=i},7:function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(12)),a=n(11),o=l(n(244)),u=l(n(245)),s=l(n(173));function l(e){return e&&e.__esModule?e:{default:e}}var c=o.default.apiRootPath+"/history",f=o.default.apiRootPath+"/visual",d=function(e){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e._data={histories:[],currentHistory:{},currentVisualTest:{},currentVisualReference:{}},e._detailsPanelsVisibilty=!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),r(n,[{key:"getAssetRootPath",value:function(){return"regression-tests/"}},{key:"fetchHistoryList",value:function(){var e=this;return new Promise(function(n,r){i.default.isEmpty(e._data.histories)?t.request({method:"GET",url:c}).then(function(t){t&&t.data?(Object.assign(e._data.histories,u.default.History.sortHistory(t.data)),e.broadcastDataChanges("histories"),n(e._data.histories)):r(void 0)}).catch(function(e){console.warn("List history err",e),r(void 0)}):n(e._data.histories)})}},{key:"setCurrentHistory",value:function(e){var n=this;return new Promise(function(r,i){t.request({method:"GET",url:c+"?id="+e}).then(function(e){e&&e.data?(a.Objects.empty(n._data.currentHistory),Object.assign(n._data.currentHistory,e.data,{visualTests:u.default.Visual.sortTestResults(e.data.visualTests)}),n.broadcastDataChanges("currentHistory"),r(n._data.currentHistory)):i(void 0)}).catch(function(e){console.warn("setCurrentHistory err",e),i(void 0)})})}},{key:"getCurrentHistory",value:function(){return this._data.currentHistory}},{key:"setCurrentVisualTest",value:function(e){return a.Objects.empty(this._data.currentVisualTest),Object.assign(this._data.currentVisualTest,e),this.broadcastDataChanges("currentVisualTest"),this._data.currentVisualTest}},{key:"getCurrentVisualTest",value:function(){return this._data.currentVisualTest}},{key:"approveTest",value:function(e){return new Promise(function(n,r){t.request({method:"PUT",url:f,data:{historyId:e.historyId,visualReferenceId:e.visualReferenceId,visualScreenshot:e.visualScreenshot,browser:e.browser,url:e.url,name:e.name,visualScreenshotPath:e.visualScreenshotPath,_id:e._id}}).then(function(t){t&&t.data?(Object.assign(e,t.data),n(t.data)):r(void 0)}).catch(function(e){console.warn("Approve test err",e),r(void 0)})})}},{key:"setCurrentVisualTestReference",value:function(e){return a.Objects.empty(this._data.currentVisualReference),Object.assign(this._data.currentVisualReference,u.default.Visual.findTestReference(e,this._data.currentHistory.visualReferences)),this.broadcastDataChanges("currentVisualReference"),this._data.currentVisualReference}},{key:"getCurrentVisualTestReference",value:function(){return this._data.currentVisualReference}},{key:"setDetailsPanelVisibility",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._detailsPanelsVisibility=e}},{key:"isDetailsPanelVisible",value:function(){return this._detailsPanelsVisibility}}]),n}();e.exports=new d}).call(t,n(6))}},[226]);