{"version":3,"sources":["webpack:///./lib/helpers/helpers.js","webpack:///./components/service/state-service.js","webpack:///./components/component-helpers/component-helpers.js","webpack:///./lib/abstract-data-service.js","webpack:///./components/history-details/history-details-view.js","webpack:///./components/spinner/spinner-view.js","webpack:///./styles/vendor-scss.js","webpack:///./index.js","webpack:///./components/landing-page/landing-page-view.js","webpack:///./components/landing-page/landing-page-model.js","webpack:///./lib/helpers/colors.js","webpack:///./lib/helpers/dates.js","webpack:///./lib/helpers/images.js","webpack:///./lib/helpers/numbers.js","webpack:///./lib/helpers/objects.js","webpack:///./lib/helpers/strings.js","webpack:///./config.js","webpack:///./components/component-helpers/history.js","webpack:///./components/component-helpers/visual.js","webpack:///./components/history-list-menu/history-list-menu-view.js","webpack:///./components/history-list-menu/history-list-menu-model.js","webpack:///./components/history-details/history-details-model.js","webpack:///./components/visual-result-container/visual-result-container-view.js","webpack:///./components/visual-result-container/visual-result-container-model.js","webpack:///./components/visual-compare-panel/visual-compare-panel-view.js","webpack:///./components/visual-compare-panel/visual-compare-panel-model.js","webpack:///./components/image-viewer/image-viewer.js","webpack:///./components/image-viewer/service/image-viewer-service.js","webpack:///./components/image-viewer/image-viewer-helper.js","webpack:///./components/image-viewer/component.js","webpack:///./components/constant/constant.js","webpack:///./components/image-viewer/test-screenshot/test-screenshot.js","webpack:///./components/image-viewer/reference-screenshot/reference-screenshot.js","webpack:///./components/image-viewer/swipe-bar/swipe-bar.js","webpack:///./components/visual-navigation-map/visual-navigation-map-view.js","webpack:///./components/visual-navigation-map/visual-navigation-map-model.js","webpack:///./components/details-panel/details-panel-view.js","webpack:///./components/details-panel/details-panel-model.js","webpack:///./components/screenshot-details/screenshot-details-view.js","webpack:///./components/screenshot-details/screenshot-details-model.js","webpack:///./components/visual-slide-next/visual-slide-next-view.js","webpack:///./components/visual-slide-next/visual-slide-next-model.js","webpack:///./components/visual-slide-prev/visual-slide-prev-view.js","webpack:///./components/visual-slide-prev/visual-slide-prev-model.js","webpack:///./components/control-menu/control-menu-view.js","webpack:///./components/control-menu/control-menu-model.js","webpack:///./components/splash-page/splash-page-view.js","webpack:///./components/splash-page/splash-page-model.js","webpack:///./lib/helpers/booleans.js","webpack:///./components/service/data-service.js"],"names":["_booleans","__webpack_require__","_colors","_dates","_images","_numbers","_objects","_strings","Helpers","Booleans","Colors","Dates","Images","Numbers","Objects","Strings","module","exports","StateService","_classCallCheck","this","_currentTestIndex","candidate","_this","Promise","resolve","reject","DataService","getCurrentHistory","Object","is","_id","setCurrentHistory","then","result","parseInt","m","route","param","_","isEmpty","visualTests","setCurrentVisualTest","setCurrentVisualTestReference","getCurrentVisualTest","updateRouteParams","history","test","catch","err","console","warn","length","params","arguments","undefined","location","get","replace","set","queryString","stringify","_this2","hideDetailsPanel","approveTest","setNextVisualTest","setDetailsPanelVisibility","setHistoryListMenuVisibility","_history","_visual","ComponentHelpers","History","Visual","_helpers","AbstractDataService","_handleObservingDataChanges","bind","_data","_observers","Map","_subscribers","Set","_bindThisToHandlers","keyPath","handler","instance","Error","subscriber","id","random","proxy","_createObservableProxy","add","delete","clear","excluded","data","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","return","prop","unsubscribeAll","hasOwnProperty","has","ObservableSlim","create","changes","broadcastDataChanges","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","getOwnPropertyNames","getPrototypeOf","name","method","Function","_validateHandlerProperty","property","startsWith","find","HistoryDetailsView","_createClass","key","vnode","attrs","server","HistoryDetailsModel","getReportLink","report","href","createdAt","getDateTime","visualFailedTotal","SpinnerView","require","document","body","querySelector","/splash","SplashPageView","/landing","LandingPageView","title","LandingPageModel","initState","results","state","histories","redraw","isReady","HistoryListMenuView","VisualResultContainerView","_isReady","fetchConfig","fetchHistoryList","routingHistory","rgb","alpha","isTruthyValue","hex","shorthandRegex","toString","r","g","b","exec","componentToHex","c","lum","hex2rgb","i","j","String","substr","Math","round","min","max","moment","utc","_f","Date","getFullYear","includes","getDateUTCFormat","_moment2","default","format","date","getDate","getHourMinute","getHour","width","height","container","isOriginal","originParams","ratio","getRatio","positionX","positionY","containerWidth","offsetWidth","val","isNaN","parseFloat","isFinite","target","isUndefined","isObject","forOwn","values","Proxy","TypeError","obj","keys","index","ReferenceError","Reflect","deleteProperty","str","n","useWordBoundary","isTooLong","s_","lastIndexOf","includedStr","secs","seconds","hours","floor","minutes","timeString","input","substring","toUpperCase","hostName","window","hostname","env","apiRootPath","protocol","outputPath","orderBy","filter","pass","tests","sortBy","references","reference","visualScreenshot","HistoryListMenuModel","getHistoryList","isHistoryListMenuVisible","onclick","showHistoryDetails","getHistoryDetails","isLoadingHistory","map","isSelectedHistory","onmouseover","setHoverHistory","onfocus","onmouseout","onblur","_hoverHistory","hideHistoryListMenu","showHistoryListMenu","getTestResultRootPath","VisualResultContainer","VisualResultContainerModel","isDetailsPanelVisible","DetailsPanelView","VisualComparePanelView","VisualNavigationMapView","ControlMenuView","VisualSlidePrev","VisualSlideNext","VisualComparePanelModel","createImageViewer","getImageViewerId","Constant","imageViewerId","_imageViewer","ImageViewer","PIXI","BACKGROUND_COLOUR","utils","skipHello","_possibleConstructorReturn","__proto__","call","_children","_app","Application","autoResize","antialias","backgroundColor","ImageViewerHelper","getContainer","clientWidth","getBodyHeight","_loadComponents","appendChild","view","ImageViewerService","subscribe","handleScreenshotChange","handleStateChange","addEventListener","resize","Component","_filter","enabled","showingBlur","testScreenshot","getElement","referenceScreenshot","renderer","getContainerHeight","TestScreenshot","ReferenceScreenshot","swipeBar","SwipeBar","_createBlurFilter","stage","addChild","filters","ColorMatrixFilter","greyscale","autoFit","FLAG_RESET","testScreenshotId","referenceScreenshotId","swipeBarPosition","_currentState","handleCurrentTestUpdate","handleCurrentTestReferenceUpdate","handleComponentStateChanges","_updateStateFlag","newBlurState","detailsPanelVisibility","historyListMenuVisibility","_getNewScreenshotIds","loader","destroy","getVisualTestImage","getVisualTestReferenceImage","load","handleImagesLoaded","position","x","visualScreenshotPath","getCurrentVisualTestReference","resources","empty","assign","flag","showCurrentResult","getElementById","clientHeight","options","_options","_element","devTestResultRootPath","Container","_screenshot","ketPath","img","removeChild","Sprite","texture","getImageCenterParams","y","subscribeKey","isReference","_text","createText","_mask","createMask","_swipeBarPositionSubscriber","handleSwipeBarPositionChange","style","TextStyle","fontFamily","fontSize","fontWeight","fill","stroke","strokeThickness","Text","Graphics","beginFill","lineStyle","moveTo","lineTo","endFill","mask","_resizeMask","WIDTH","_draggingData","_createButtonStyle","_registerEventHandlers","resetPosition","interactive","buttonMode","on","onDragStart","onDragEnd","onDragMove","setSwipeBarPosition","scale","event","newPositionX","getLocalPosition","parent","background-image","VisualNavigationMapModel","getScreenShot","visualDifferPath","DetailsPanelModel","getTestName","getTestPageUrl","ScreenshotDetailsView","getTestScreenshotDetails","getReferenceScreenshotDetails","url","ScreenshotDetailsModel","getBrowserInfo","viewport","download","visualReferenceId","approvedAt","getTestResultState","info","platform","parse","browser","version","VisualSlideNextView","VisualSlideNextModel","setNextTest","getNextResultIndex","getNextTestIndex","VisualSlidePrevView","VisualSlidePrevModel","setPreviousTest","setPreviousVisualTest","ControlMenuModel","isShowingDetails","toggleDetailsPanel","getDetailsButtonText","getFailedTotal","isResultFailed","isResultPass","isResultApproved","_componentHelpers","approveCurrentTest","showDetailsPanel","getHistoryFailedTests","_looper","_dataLoaded","_routeToMainInvokedCount","all","SplashPageModel","routeToMain","setTimeout","clearTimeout","historyEndpoint","config","visualEndpoint","componentStates","loadingCurrentHistory","apiConfig","currentHistory","currentVisualTest","currentVisualReference","request","_this3","limit","sortHistory","_this4","setLoadingCurrentHistoryState","sortTestResults","finally","_this5","historyId","approvedVisualTest","findTestReference","visualReferences"],"mappings":"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","file":"main-bundle.js","sourcesContent":["import {Booleans} from './booleans';\nimport {Colors} from './colors';\nimport {Dates} from './dates';\nimport {Images} from './images';\nimport {Numbers} from './numbers';\nimport {Objects} from './objects';\nimport {Strings} from './strings';\n\n\n/**\n * A collection of the helpers classes: Strings, Booleans, Colors and Numbers\n * @example\n *  Helpers.Numbers.isNumber(0);\n *  // -> true\n *  Helpers.Strings.random(4);\n *  // -> af2d\n * @type {{Booleans: Booleans, Numbers: Numbers, Colors: Colors, Strings: Strings}}\n */\nlet Helpers = {\n    Booleans,\n    Colors,\n    Dates,\n    Images,\n    Numbers,\n    Objects,\n    Strings,\n};\n\nmodule.exports = Helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/helpers.js","import _ from 'lodash';\nimport queryString from 'query-string';\nimport DataService from './data-service';\n\n/**\n * Application state services, manage features' states\n * including showing the details of a history (current history)\n */\nclass StateService {\n\n    constructor() {\n        this._currentTestIndex = 0;\n    }\n\n    /**\n     * Replace or add the current history which all components are showing its details with the candidate history\n     * @param {Object} candidate - history object\n     */\n    setCurrentHistory(candidate) {\n        return new Promise((resolve, reject)=> {\n\n            if( DataService.getCurrentHistory() &&\n                Object.is(DataService.getCurrentHistory()._id, candidate._id)\n            ) {\n                resolve(DataService.getCurrentHistory());\n                return;\n            }\n\n            DataService.setCurrentHistory(candidate._id).then((result)=> {\n                //reset index to 0\n                this._currentTestIndex = parseInt(m.route.param('test')) || 0;\n                //set current visual test as the first visual test\n                if(!_.isEmpty(DataService.getCurrentHistory().visualTests)){\n                    DataService.setCurrentVisualTest(DataService.getCurrentHistory().visualTests[this._currentTestIndex]);\n                    DataService.setCurrentVisualTestReference(DataService.getCurrentVisualTest());\n                }\n                //Update url parameters\n                this.updateRouteParams({\n                    history: result._id,\n                    test: this._currentTestIndex,\n                });\n\n                resolve(DataService.getCurrentHistory());\n\n            }).catch((err)=> {\n                console.warn('StateService.setCurrentHistory err', err);\n                reject(err);\n            });\n        });\n\n    }\n\n    setPreviousVisualTest() {\n        if(!_.isEmpty(DataService.getCurrentHistory().visualTests) && this._currentTestIndex !== 0){\n            this._currentTestIndex = this._currentTestIndex - 1;\n            DataService.setCurrentVisualTest(DataService.getCurrentHistory().visualTests[this._currentTestIndex]);\n            DataService.setCurrentVisualTestReference(DataService.getCurrentVisualTest());\n            this.updateRouteParams();\n        }\n\n    }\n\n    setNextVisualTest() {\n        if(!_.isEmpty(DataService.getCurrentHistory().visualTests) &&\n            DataService.getCurrentHistory().visualTests.length !== this._currentTestIndex + 1 ){\n            this._currentTestIndex = this._currentTestIndex + 1;\n            DataService.setCurrentVisualTest(DataService.getCurrentHistory().visualTests[this._currentTestIndex]);\n            DataService.setCurrentVisualTestReference(DataService.getCurrentVisualTest());\n            this.updateRouteParams();\n        }\n    }\n\n    updateRouteParams(params={\n        history : DataService.getCurrentHistory()._id,\n        test : this._currentTestIndex,\n    }) {\n        let location = m.route.get().replace(/\\?(.*)/g, '');\n        m.route.set(`${location}?${queryString.stringify(params)}`);\n    }\n\n    getCurrentTestIndex() {\n        return this._currentTestIndex;\n    }\n\n    getNextTestIndex() {\n        let length = DataService.getCurrentHistory().visualTests.length;\n        return length !== this._currentTestIndex + 1 ? this._currentTestIndex + 1 : length;\n    }\n\n    approveCurrentTest() {\n        this.hideDetailsPanel();\n        return new Promise((resolve, reject)=>{\n            DataService.approveTest(DataService.getCurrentVisualTest()).then((result)=> {\n                this.setNextVisualTest();\n                resolve(result);\n            }).catch(reject);\n        });\n    }\n\n    showDetailsPanel() {\n        DataService.setDetailsPanelVisibility(true);\n    }\n\n    hideDetailsPanel() {\n        DataService.setDetailsPanelVisibility(false);\n    }\n\n    showHistoryListMenu() {\n        DataService.setHistoryListMenuVisibility(true);\n    }\n\n    hideHistoryListMenu() {\n        DataService.setHistoryListMenuVisibility(false);\n    }\n\n\n}\n\nmodule.exports = new StateService();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/service/state-service.js","import {History} from './history';\nimport {Visual} from './visual';\n\n/**\n */\nlet ComponentHelpers = {\n    History,\n    Visual,\n};\n\nmodule.exports = ComponentHelpers;\n\n\n\n// WEBPACK FOOTER //\n// ./components/component-helpers/component-helpers.js","import {Strings} from './helpers/helpers';\nimport ObservableSlim from 'observable-slim';\n\n/**\n * DataService handles shared data and methods between components\n * It observers shared data changes and notify changes to other components\n */\nexport default class AbstractDataService {\n\n    constructor() {\n\n        /**\n         *\n         * @type {function(this:AbstractDataService)}\n         * @private\n         */\n        this._handleObservingDataChanges = this._handleObservingDataChanges.bind(this);\n\n        /**\n         *\n         * @type {Object}\n         * @private\n         */\n        this._data = {};\n\n        /**\n         * Observers\n         * @type {Set}\n         * @private\n         */\n        this._observers = new Map();\n\n        /**\n         * Subscribers\n         * @type {Array}\n         * @private\n         */\n        this._subscribers = new Set();\n\n        this._bindThisToHandlers();\n    }\n\n\n\n    /*---------------------------- public functions -------------------------*/\n    /**\n     * Subscribe changes\n     * @param keyPath\n     * @param handler\n     * @param instance\n     * @returns {{id: *, key: *, proxy: *, fn: *}}\n     */\n    subscribe(keyPath, handler, instance) {\n\n        if ( Object.is(keyPath, undefined) ) {\n            throw new Error('keyPath is required to subscribe data service');\n        }\n        if( Object.is(handler, undefined)) {\n            throw new Error('fn is required to subscribe data service');\n        }\n        const subscriber = {\n            instance: instance,\n            id: Strings.random(6),\n            keyPath: keyPath,\n            handler: handler,\n            proxy: this._createObservableProxy(keyPath),\n        };\n        this._subscribers.add(subscriber);\n        return subscriber;\n    }\n\n    /**\n     * Unsubscribe a subscriber\n     * @param subscriber\n     */\n    unsubscribe(subscriber) {\n        this._subscribers.delete(subscriber);\n    }\n\n    /**\n     * Unsubscribe all subscribers\n     */\n    unsubscribeAll() {\n        this._subscribers.clear();\n    }\n\n    /**\n     * Notify all subscribers data object changes\n     * Use it after loading the data from the server.\n     * @param {String} keyPath - key path of the this._data\n     * @param {Object} excluded - subscriber, excluded subscriber\n     * @example\n     * ```\n     * this._data.currentSite = {name: \"corporate\"};\n     * //subscribers listen to the currentSite changes\n     *\n     * this.broadcastDataChanges(\"currentSite\");\n     * //tell all subscribers \"currentSite\" which has changed\n     *\n     * ```\n     *\n     * An example `/src/components/style-guide/style-guide-service.js`\n     *\n     * @private\n     */\n    broadcastDataChanges(keyPath, excluded) {\n        let data = this._data[keyPath];\n\n        for (let subscriber of this._subscribers) {\n            if(Object.is(subscriber, undefined)) {\n                return;\n            }\n            if(Object.is(subscriber.keyPath, keyPath) && !Object.is(excluded, subscriber)) {\n                subscriber.handler(keyPath, data);\n            }\n        }\n    }\n    \n    /**\n     * Destroy this service\n     */\n    destroy() {\n        this.unsubscribeAll();\n        for (const prop in this) {\n            if(this.hasOwnProperty(prop)){\n                delete this[prop];\n            }\n        }\n    }\n\n    /*-------------------------- private functions -------------------------*/\n    /**\n     * Create subscriber proxy\n     * @param keyPath {String}\n     * @param handler\n     * @returns {*}\n     * @private\n     */\n    _createObservableProxy(keyPath , handler=this._handleObservingDataChanges) {\n        if(!this._observers.has(keyPath)) {\n            this._observers.set(keyPath, ObservableSlim.create(\n                this._data[keyPath], true, (changes)=> {\n                    handler(changes, keyPath);\n                }\n            ));\n        }\n        return this._observers.get(keyPath);\n    }\n\n    /**\n     * Subscriber proxy set handler\n     * @param changes\n     * @returns {boolean} - default true\n     * @private\n     * @override\n     */\n    _handleObservingDataChanges(changes, keyPath) {\n        this.broadcastDataChanges(keyPath);\n        return true;\n    }\n\n    /**\n     * Bind this to public functions\n     * @private\n     */\n    _bindThisToHandlers() {\n        for (let name of Object.getOwnPropertyNames(Object.getPrototypeOf(this))) {\n            let method = this[name];\n            // Supposedly you'd like to skip constructor\n            if (!(method instanceof Function) || method === this || !this._validateHandlerProperty(name)) {\n                continue;\n            }\n            this[name] = this[name].bind(this);\n        }\n    }\n\n    /**\n     * Helper to exclude functions from view handlers\n     * @param property\n     * @returns {boolean}\n     * @private\n     */\n    _validateHandlerProperty(property) {\n        let excludedNames = ['on', 'off'];\n        return !(property.startsWith('_') ||\n            (typeof this[property] !== 'function') ||\n            !Object.is(excludedNames.find((name)=>{return name === property;}), undefined));\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/abstract-data-service.js","import {Dates} from './../../lib/helpers/helpers';\nimport HistoryDetailsModel from './history-details-model';\n\nmodule.exports = class HistoryDetailsView {\n\n    constructor(){\n\n    }\n\n    view(vnode) {\n        return m('.b-history-details', [\n\n            m('.b-featured-table.b-component', [\n\n                m('.b-featured-table__row', [\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Instance'),\n                    m('.1/4.b-featured-table__cell', vnode.attrs.instance),\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Server'),\n                    m('.1/4.b-featured-table__cell', vnode.attrs.server),\n                ]),\n\n                m('.b-featured-table__row', [\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Report'),\n                    m('.3/4.b-featured-table__cell', [\n                        HistoryDetailsModel.getReportLink(vnode.attrs.report) !== undefined &&\n                        m('a.b-link.b-link--block.b-text--color-dark', {\n                            href: `${HistoryDetailsModel.getReportLink(vnode.attrs.report)}`,\n                        }, [\n                            m('span.b-icon.b-icon--fa.b-icon--position-base-left.fa-external-link-alt', 'report link'),\n                        ]),\n                    ]),\n                ]),\n\n                vnode.attrs.createdAt !== undefined &&\n                m('.b-featured-table__row', [\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Created at'),\n                    m('.3/4.b-featured-table__cell', Dates.getDateTime(vnode.attrs.createdAt)),\n                ]),\n\n                vnode.attrs.visualFailedTotal !== undefined &&\n                m('.b-featured-table__row', [\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Total differences'),\n                    m('.3/4.b-featured-table__cell', vnode.attrs.visualFailedTotal),\n                ]),\n\n            ]),\n        ]);\n    }\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/history-details/history-details-view.js","\nmodule.exports = class SpinnerView {\n\n    constructor(){\n\n    }\n\n    view() {\n        return m('.b-spinner', [\n            m('.b-spinner__child.b-spinner__child--1'),\n            m('.b-spinner__child.b-spinner__child--2'),\n            m('.b-spinner__child.b-spinner__child--3'),\n            m('.b-spinner__child.b-spinner__child--4'),\n            m('.b-spinner__child.b-spinner__child--5'),\n            m('.b-spinner__child.b-spinner__child--6'),\n        ]);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/spinner/spinner-view.js","/**** Import all vendor scss here *******/\nrequire('./vendor/fontawesome-free/scss/fontawesome.scss');\nrequire('./vendor/fontawesome-free/scss/solid.scss');\nrequire('./vendor/avalanche-css/_avalanche.scss');\n\n/**** Import app scss *******/\nrequire('./app.scss');\n\n\n\n// WEBPACK FOOTER //\n// ./styles/vendor-scss.js","if (module.hot) {\n    module.hot.accept();\n}\n\nif (process.env.NODE_ENV !== 'production') {\n    console.log('Development mode!');\n}\n\n//Define your routes here\nimport LandingPageView from './components/landing-page/landing-page-view';\nimport SplashPageView from '../src/components/splash-page/splash-page-view';\n\nm.route(document.body.querySelector('#root'), '/splash', {\n    '/splash': SplashPageView,\n    '/landing': LandingPageView,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import LandingPageModel from './landing-page-model';\nimport HistoryListMenuView from './../history-list-menu/history-list-menu-view';\nimport VisualResultContainerView from '../visual-result-container/visual-result-container-view';\n\nmodule.exports = class LandingPageView {\n\n    constructor(){\n        this.title = 'Landing page';\n    }\n\n    oninit(vnode) {\n        LandingPageModel.initState().then((results)=> {\n            vnode.state.histories = results;\n            m.redraw();\n        });\n    }\n\n    view(vnode) {\n        return m('.b-page.b-page--bg-dark', LandingPageModel.isReady() ? [\n            m('h1.sr-only', `${vnode.state.title}`),\n            m('.b-page__content', [\n                m(HistoryListMenuView),\n                m('.b-container.b-container--section.b-animation', [m(VisualResultContainerView)]\n                ),\n            ]),\n        ]: []);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/landing-page/landing-page-view.js","import StateService from './../service/state-service';\nimport DataService from './../service/data-service';\n\n\nclass LandingPageModel {\n\n    constructor() {\n        this._isReady = false;\n    }\n\n    initState() {\n\n        return new Promise((resolve, reject)=> {\n            DataService.fetchConfig().then(()=>{\n                DataService.fetchHistoryList().then((results)=> {\n                    let routingHistory = results.find((result) => Object.is(m.route.param('history'), result._id));\n\n                    if(!routingHistory) {\n                        routingHistory = results[0];\n                    }\n\n                    StateService.setCurrentHistory(routingHistory).then(()=> {\n                        this._isReady = true;\n                        resolve(results);\n                    });\n                }).catch(reject);\n            });\n\n        });\n    }\n\n    isReady() {\n        return this._isReady;\n    }\n\n    _getHistory(histories) {\n    }\n\n}\n\nmodule.exports = new LandingPageModel();\n\n\n\n// WEBPACK FOOTER //\n// ./components/landing-page/landing-page-model.js","import Booleans from './booleans';\n/**\n * Colors helper class\n */\nclass Colors {\n    /**\n     * Convert rgb color to rgba color with adding alpha channel\n     * @param {string} rgb - 'rgb(red, green, blue)' (e.g.: rgb(85,85,85))\n     * @param {number} alpha - [0 - 1], default is 1\n     * @returns {string} rgba - 'rgb(red, green, blue, alpha)' (e.g.: rgb(85,85,85, 1))\n     * @example\n     * rbg2rgba('rgb(85,85,85)', 0.5)\n     * //-> rgba(85,85,85, 0.5)\n     */\n    static rgb2rgba (rgb, alpha) {\n        let rgba;\n        if (!rgb) {\n            return null;\n        }\n        alpha = Booleans.isTruthyValue(alpha) ? alpha : 1;\n        rgba = rgb.replace(/rgb/i, 'rgba');\n        return rgba.replace(/\\)/i, `, ${alpha})`);\n    }\n\n    /**\n     * Covert hex code to rgb color, hex code supported formats: \"#FFF\", \"FFF\", \"#fff\", \"fff\", \"FFFFFF\", \"#FFFFFF\"\n     * @param {string} hex - hex code\n     * @returns {String|null} - return rgb color if it is valid, else null\n     * @example\n     * hex2rgb(\"#FFF000\") result \"rgb(255,240,0)\"\n     */\n    static hex2rgb (hex) {\n        if(!hex){\n            return null;\n        }\n        var result, shorthandRegex;\n        shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.toString().replace(shorthandRegex, function(m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n        result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        if (result) {\n            return `gb(${parseInt(result[1], 16)},${parseInt(result[2], 16)}, ${parseInt(result[3], 16)})`;\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Covert hex code to rgb color object, hex code supported formats: \"#FFF\", \"FFF\", \"#fff\", \"fff\", \"FFFFFF\", \"#FFFFFF\"\n     * @param {string} hex - hex code\n     * @returns {String|null} - return rgb color if it is valid, else null\n     * @example\n     * hex2rgb(\"#FFF000\") result \"{ r:255, g:240, b:0 }\"\n     */\n    static hex2rgbObj(hex) {\n        if(!hex){\n            return null;\n        }\n        let result, shorthandRegex;\n        shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.toString().replace(shorthandRegex, function(m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n        result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        if (result) {\n            return {\n                r: parseInt(result[1], 16),\n                g: parseInt(result[2], 16),\n                b: parseInt(result[3], 16),\n            };\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Convert rgb color to hex code\n     * @param {!number} r - rgb color red\n     * @param {!number} g - rgb color green\n     * @param {!number} b - rgb color blue\n     * @returns {string} - hex code\n     * @example\n     * rgb2hex(175,210,80);\n     * // -> \"#afd250\"\n     */\n    static rgb2hex (r, g, b) {\n        if(!r || !g || !b) {\n            return null;\n        }\n        if( r > 255 || g > 255 || b > 255) {\n            return null;\n        }\n        if( r < 0 || g < 0 || b < 0) {\n            return null;\n        }\n        let componentToHex;\n        componentToHex = function(c) {\n            let hex;\n            hex = c.toString(16);\n            if (hex.length === 1) {\n                return '0' + hex;\n            } else {\n                return hex;\n            }\n        };\n        return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\n    }\n\n    /**\n     * Change color luminance\n     * @param {string} hex - hex code (e.g. \"#afd250\")\n     * @param {number} lum - [-1 ~ 1]\n     * @returns {string} - new hex code\n     */\n    static colorLuminance (hex, lum) {\n        if(!this.hex2rgb(hex) || lum > 1 || lum < -1){\n            return null;\n        }\n        let c, i, j, rgb = '#';\n        hex = String(hex).replace(/[^0-9a-f]/gi, '');\n        if (hex.length < 6) {\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n        }\n        lum = lum || 0;\n        for (i = j = 0; j <= 2; i = j += 1) {\n            c = parseInt(hex.substr(i * 2, 2), 16);\n            c = Math.round(Math.min(Math.max(0, c + (c * lum)), 255)).toString(16);\n            rgb += ('00' + c).substr(c.length);\n        }\n        return rgb;\n    }\n\n}\n\nexport {Colors};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/colors.js","import moment from 'moment';\nimport _ from 'lodash';\n\n/**\n *\n * The main purpose for this Dates class is to make sure the corporate website has the standard date format across the whole site.\n *\n * TODO mocha Test\n */\nclass Dates {\n\n    static getDateUTCFormat(candidate) {\n        return moment.utc(candidate)._f;\n    }\n\n    /**\n     * Get current year\n     * return {number} - current year, e.g. 2017\n     */\n    static getCurrentYear() {\n        return new Date().getFullYear();\n    }\n\n\n    /**\n     * Get in a day, e.g. 10am, 5pm\n     * @param candidate {Date} - date\n     * @returns {string} hour in a day, e.g. 10am, 5pm\n     */\n    static getHour(candidate) {\n        if(_.includes(this.getDateUTCFormat(candidate), 'HH') ) {\n            return moment(candidate).format('ha');\n        } else {\n            return '';\n        }\n    }\n\n    /**\n     * Get in a day, e.g. 10:45am, 5:32pm\n     * Note: 9:00am will be 9am\n     * @param candidate {Date} - date\n     * @returns {string} minute in a day, e.g. 10am, 5pm\n     */\n    static getHourMinute(candidate) {\n        if(_.includes(this.getDateUTCFormat(candidate), 'HH:mm')) {\n            return moment(candidate).format('h.mma').replace('.00', '');\n        } else {\n            return '';\n        }\n    }\n\n    /**\n     * Get corporate website standard date, e.g. 14 November 2016, time format will be YYYY-MM-DDTHH:mm:ss\n     * @param candidate {Date} - date\n     * @returns {string} - date string e.g. 12 November 2016\n     */\n    static getDate(candidate) {\n        return `${moment(candidate).format('D')} ${moment(candidate).format('MMMM')} ${moment(candidate).format('YYYY')}` ;\n    }\n\n    static getDateTime(candidate) {\n        let date = Dates.getDate(candidate);\n        let hours = Dates.getHourMinute(candidate);\n        return `${hours}, ${date}`;\n    }\n\n    /**\n     * Get hour and date\n     * @param candidate {Date} - date\n     * @returns {string} - date string e.g. 10am, 14 November 2016\n     */\n    static getHourAndDate(candidate) {\n        if( _.isEmpty(this.getHour(candidate)) ){\n            return this.getDate(candidate);\n        }\n        return `${this.getHour(candidate)}, ${this.getDate(candidate)}`;\n    }\n\n    /**\n     * Get hour, minutes and date\n     * @param candidate {Date} - date\n     * @returns {string} - date string e.g. 10:45am, 14 November 2016\n     */\n    static getHourMinuteAndDate(candidate) {\n        if( _.isEmpty(this.getHour(candidate)) ){\n            return this.getDate(candidate);\n        }\n        return `${this.getHourMinute(candidate)}, ${this.getDate(candidate)}`;\n    }\n}\n\nexport {Dates};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/dates.js","/**\n * Images helper class\n */\nclass Images {\n\n    /**\n     * get image ratio: width / height\n     * @param {Object} data - loaded image data object\n     */\n    static getRatio(data) {\n        return data.width / data.height;\n    }\n\n    /**\n     * fixed width, auto height\n     * @param {Object} data - image data object\n     * @param {Object} container - dom element\n     * @param {Boolean} isOriginal - is original image data or not\n     */\n    static getImageCenterParams(data, container, isOriginal=false) {\n        let originParams = data.originParams;\n        if(isOriginal){\n            originParams = {\n                width: data.width,\n                height: data.height,\n                ratio: Images.getRatio(data),\n            };\n        }\n\n        let result = {\n            originParams: originParams,\n            ratio: originParams.ratio || Images.getRatio(data),\n            width: originParams.width || data.width,\n            height: originParams.height || data.height,\n            positionX: 0,\n            positionY: 0,\n        };\n        let containerWidth = container.offsetWidth;\n\n        if(result.width > containerWidth){\n            result.width = containerWidth;\n            result.height = result.width / result.ratio;\n        } else {\n            result.positionX = (containerWidth - data.width) / 2;\n        }\n\n        return result;\n    }\n}\n\nexport {Images};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/images.js","\n/**\n * Numbers helper class\n */\nclass Numbers {\n    /**\n     * Check if the variable is a valid negative or positive number or not,\n     * @see http://stackoverflow.com/questions/5515310/is-there-a-standard-function-to-check-for-null-undefined-or-blank-variables-in\n     * @param {Number|*} val - value to test, support string type number like \"123\"\n     * @returns {boolean} true if the value is a number, else false\n     */\n    static isNumber (val) {\n        return ( !isNaN(parseFloat(val))) && isFinite(val);\n    }\n\n    /**\n     * Strip non-numeric characters from string\n     * @param {string} val - non-numeric characters string, for example: '<span>123.8</span>'\n     * @returns {Float} 10 bit digital positive or negative float point number\n     * @see http://stackoverflow.com/questions/1862130/strip-non-numeric-characters-from-string\n     */\n    static stripNonNumericCharacters(val) {\n        return parseFloat(val.toString().replace(/[^\\d.-]/g, ''), 10);\n    }\n}\n\nexport {Numbers};\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/numbers.js","import _ from 'lodash';\n\nclass Objects {\n\n    /**\n     * Filter properties of the candidate object, remain the properties if the target instance has the property\n     * @param candidate {!Object} - candidate object\n     * @param target {!Object} - mapping target instance\n     * @returns {undefined|Object} - result a new object\n     */\n    static filterObjectProperties(candidate, target) {\n        let result = {};\n\n        if(_.isUndefined(candidate) || _.isUndefined(target)){\n            return undefined;\n        }\n\n        if(!_.isObject(candidate)){\n            console.warn('invalid object to convert: ', candidate);\n            return undefined;\n        }\n        _.forOwn(candidate, (value, key)=> {\n            if(target.hasOwnProperty(key)){\n                result[key] = value;\n            }\n        });\n\n        return result;\n    }\n\n    /**\n     * Empty an object properties\n     * @param {Object} candidate - candidate object\n     */\n    static empty(candidate) {\n        for (const key in candidate) {\n            if(candidate.hasOwnProperty(key)){\n                delete candidate[key];\n            }\n        }\n        return candidate;\n    }\n\n    /**\n     * Make enum object\n     * @reference: https://github.com/gergob/jsProxy/blob/master/03-enum-nameof.js\n     * @param name\n     * @param values\n     * @returns {*}\n     */\n    static makeEnum(name, values) {\n        function nameOf(value) {\n            let keys = Object.keys(values);\n            for (let index = 0; index < keys.length; index += 1) {\n                let key = keys[index];\n                if (values[key] === value) {\n                    return `${name}.${key}`;\n                }\n            }\n        }\n        const handler = {\n            set () {\n                throw new TypeError('Enum is read only');\n            },\n            get (obj, prop) {\n                if (prop === 'nameOf') {\n                    return nameOf.bind(obj);\n                }\n                if (!(prop in obj)) {\n                    throw new ReferenceError(`Unknown enum key \"${prop}\"`);\n                }\n                return Reflect.get(obj, prop);\n            },\n            deleteProperty () {\n                throw new TypeError('Enum is read only');\n            },\n        };\n        return new Proxy(values, handler);\n    }\n    \n}\n\nexport {Objects};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/objects.js","\n/**\n * Strings Class\n */\nclass Strings {\n    /**\n     * Generate a random string, default is the maximum 12 characters. The toString method of a number type\n     * in javascript takes an optional parameter to convert the number into a given base. Similar to hex\n     * (base 16), base 36 uses letters to represent digits beyond 9.\n     * @see http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\n     * @param {number} length - The length of the random string\n     * @returns {string} - The random string , default is 12 length\n     */\n    static random(length) {\n        return Math.random().toString(36).substr(2, ( length && length <=12 ) ? length : 12);\n    }\n\n    /**\n     * A more sophisticated solution/library for shortening strings\n     * @see http://stackoverflow.com/questions/1199352/smart-way-to-shorten-long-strings-with-javascript\n     * @param str {string} - candidate content\n     * @param n {number} - length of the string\n     * @param useWordBoundary {boolean} - default true for using word boundary, else false\n     * @returns {*}\n     */\n    static truncate( str, n, useWordBoundary = true ) {\n        var isTooLong = str.length > n,\n            s_ = isTooLong ? str.substr(0,n-1) : str;\n        s_ = (useWordBoundary && isTooLong) ? s_.substr(0,s_.lastIndexOf(' ')) : s_;\n        return  isTooLong ? s_ + '...' : s_;\n    }\n\n    /**\n     * Remove empty tags\n     */\n    static removeEmptyHtmlTags(str, includedStr) {\n        return str.replace(includedStr, '').replace(/(<(?!\\/)[^>]+>)+(<\\/[^>]+>)/gm, '');\n    }\n\n    /**\n     * remove line breaks, and br tags\n     * @param str\n     * @returns {*}\n     */\n    static removeLineBreaks(str){\n        return str.replace(/\\r?\\n|\\r|&lt;br&gt;|<br>|<br\\/>/g, '');\n    }\n\n    /**\n     * Get audio/video time string from seconds\n     * @param secs {Number} - seconds \n     * @returns {string} - time string\n     * @example 100 seconds - 1 min 40 sec\n     */\n    static getMediaTimeStringFromSeconds(secs=0) {\n        var seconds = parseInt(secs);\n        var hours = Math.floor(secs / (60 * 60));\n        seconds = seconds - (hours * (60 * 60));\n        var minutes = Math.floor(seconds / 60);\n        seconds = seconds - (minutes * 60);\n\n        var timeString = '';\n        if(hours > 0) {\n            timeString = timeString + hours + ' hour ';\n        }\n        if(minutes > 0) {\n            timeString = timeString + minutes + ' min ';\n        }\n        timeString = timeString + seconds + ' sec';\n\n        return timeString;\n    }\n\n    /**\n     * Uppercase the first character\n     * @param input\n     * @returns {string}\n     */\n    static upperCaseFirstChar(input) {\n        return input.substring(0, 1).toUpperCase() + input.substring(1);\n    }\n\n}\n\nexport {Strings};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/strings.js","let hostName = window.location.hostname;\n// let hostName = '54.79.0.252';\n\nmodule.exports = {\n    env: 'DEV', //DEV or PROD\n    //regression-test-server root path\n    apiRootPath: `${window.location.protocol}//${hostName}:7071`,\n    //regression-test-puppeteer server root path\n    outputPath: `${window.location.protocol}//${hostName}:7080`,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./config.js","import _ from 'lodash';\n\n/**\n * History helper class\n */\nclass History {\n\n    static sortHistory (histories) {\n        return _.orderBy(histories, ['weight'],['desc']);\n    }\n\n    static getHistoryFailedTests(history) {\n        return history.visualTests.filter((test)=> {\n            return test.pass === false;\n        });\n    }\n}\n\nexport {History};\n\n\n\n// WEBPACK FOOTER //\n// ./components/component-helpers/history.js","import _ from 'lodash';\n\n/**\n * Visual helper class\n */\nclass Visual {\n\n    static sortTestResults (tests) {\n        return _.sortBy(tests, ['pass']);\n    }\n\n    static findTestReference(test, references) {\n        return references.find((reference)=> Object.is(reference.visualScreenshot, test.visualScreenshot));\n    }\n}\n\nexport {Visual};\n\n\n// WEBPACK FOOTER //\n// ./components/component-helpers/visual.js","import HistoryListMenuModel from './history-list-menu-model';\nimport HistoryDetailsView from './../history-details/history-details-view';\nimport DataService from './../service/data-service';\nimport SpinnerView from './../spinner/spinner-view';\n\nmodule.exports = class HistoryListMenuView {\n\n    constructor(){\n        this.title = 'History list';\n        this.histories = [];\n    }\n\n    oninit(vnode){\n        HistoryListMenuModel.getHistoryList().then((results)=> {\n            vnode.state.histories = results;\n            m.redraw();\n        });\n    }\n\n    view(vnode) {\n        return m(`.b-history-list-menu.b-box\n            ${HistoryListMenuModel.isHistoryListMenuVisible() && \n            '.b-history-list-menu--showing-details'}`, [\n\n            m('.b-container.b-container--section', [\n\n                m('.b-history-list-menu__top-bar', [\n                    m('.b-history-list-menu__top-bar-wrapper', [\n                        m('h2.b-title.b-history-list-menu__title', [\n\n                            !HistoryListMenuModel.isHistoryListMenuVisible() &&\n                            m('a.b-button.b-button--light-grey.b-button--hover-right.b-icon.b-icon--fa.b-icon--position-base-left.fa-frog' +\n                                '[href=javascript:void(0);]', {\n                                onclick() {\n                                    HistoryListMenuModel.showHistoryDetails();\n                                },\n                            },[\n                                m('span.b-button__text', `${vnode.state.title}`),\n                            ]),\n\n                            HistoryListMenuModel.isHistoryListMenuVisible() &&\n                            m('span.b-icon.b-icon--fa.b-icon--position-base-left.fa-frog', `${vnode.state.title}`),\n                        ]),\n\n                    ]),\n                ]),\n\n                HistoryListMenuModel.isHistoryListMenuVisible() &&\n                m('.b-history-list-menu__content', [\n\n                    m('p.b-text.b-text--align-right', 'Latest 10 histories.'),\n\n                    m('.grid.grid--flush.grid--right', [\n\n                        m('.7/10.grid__cell', [\n\n                            HistoryListMenuModel.getHistoryDetails() &&\n                            m('.b-box.b-box--padding-left-base', [\n                                m(HistoryDetailsView, HistoryListMenuModel.getHistoryDetails()),\n                            ]),\n\n                            DataService.isLoadingHistory() &&\n                            m('.b-container.b-container--center.b-container--size-full', [\n                                m(SpinnerView),\n                            ]),\n                        ]),\n\n                        m('.1/10.grid__cell'),\n\n                        m('.2/10.grid__cell.b-rule.b-rule--heavy-right', [\n                            m('.b-box', [\n                                m('ul.b-item-list', vnode.state.histories.map((history) => {\n                                    return m('li.b-item-list__item', [\n                                        m(`a.b-history-list-menu__link.b-link.b-link--block.b-link--sky.b-link--hover-left\n                                            .b-link--no-underline.b-box.b-box--padding-brick-sm\n                                            .b-icon.b-icon--fa.b-icon--position-base-left.fa-fish\n                                            [href=javascript:void(0);]\n                                            ${HistoryListMenuModel.isSelectedHistory(history) && '.b-history-list-menu__link--selected'}\n                                            ${(history.visualFailedTotal > 0) && '.b-history-list-menu__link--show-icon'}`, {\n                                            onclick() {\n                                                HistoryListMenuModel.setCurrentHistory(history);\n                                            },\n                                            onmouseover() {\n                                                HistoryListMenuModel.setHoverHistory(history);\n                                            },\n                                            onfocus() {\n                                                HistoryListMenuModel.setHoverHistory(history);\n                                            },\n                                            onmouseout() {\n                                                HistoryListMenuModel.setHoverHistory();\n                                            },\n                                            onblur() {\n                                                HistoryListMenuModel.setHoverHistory();\n                                            },\n                                        }, [\n                                            m('span.b-text.b-text--label.b-text--weight-normal.b-text--capitalize.b-text--underline', `${history.server}`),\n                                        ]),\n                                    ]);}\n                                )),\n                            ]),\n                        ]),\n\n                    ]),\n                ]),\n\n            ]),\n\n        ]);\n    }\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/history-list-menu/history-list-menu-view.js","import StateService from './../service/state-service';\nimport DataService from './../service/data-service';\n\nclass HistoryListMenuModel {\n\n    constructor() {\n        this._hoverHistory = undefined;\n    }\n\n    getHistoryList() {\n        return DataService.fetchHistoryList();\n    }\n\n    getHistoryDetails() {\n        return this._hoverHistory || DataService.getCurrentHistory();\n    }\n\n    setCurrentHistory(history) {\n        return StateService.setCurrentHistory(history).then(StateService.hideHistoryListMenu);\n    }\n\n    setHoverHistory(history=undefined) {\n        this._hoverHistory = history;\n    }\n\n    showHistoryDetails() {\n        StateService.showHistoryListMenu();\n    }\n\n    isSelectedHistory(history) {\n        return Object.is(history._id, DataService.getCurrentHistory()._id);\n    }\n\n    isHistoryListMenuVisible(){\n        return DataService.isHistoryListMenuVisible();\n    }\n}\n\nmodule.exports = new HistoryListMenuModel();\n\n\n\n// WEBPACK FOOTER //\n// ./components/history-list-menu/history-list-menu-model.js","import DataService from '../service/data-service';\nimport _ from 'lodash';\n\nclass HistoryDetailsModel {\n\n    constructor() {\n    }\n\n    getReportLink(report) {\n        return (_.isEmpty(report)) ? undefined : `${DataService.getTestResultRootPath()}/${report.report}`;\n    }\n\n}\n\nmodule.exports = new HistoryDetailsModel();\n\n\n\n// WEBPACK FOOTER //\n// ./components/history-details/history-details-model.js","import VisualResultContainerModel from './visual-result-container-model';\nimport VisualComparePanelView from './../visual-compare-panel/visual-compare-panel-view';\nimport VisualNavigationMapView from './../visual-navigation-map/visual-navigation-map-view';\nimport DetailsPanelView from './../details-panel/details-panel-view';\nimport VisualSlideNext from './../visual-slide-next/visual-slide-next-view';\nimport VisualSlidePrev from './../visual-slide-prev/visual-slide-prev-view';\nimport ControlMenuView from './../control-menu/control-menu-view';\n\nmodule.exports = class VisualResultContainer {\n\n    constructor(){\n        this.title = 'VisualResultContainer';\n    }\n\n    view(vnode) {\n        return m('.b-visual-result-container.grid.grid--flush', [\n            m('.4/5.grid__cell.b-overlay__container', [\n                m('h2.sr-only', `${vnode.state.title}`),\n                VisualResultContainerModel.isDetailsPanelVisible() &&\n                m('.b-overlay__cover.b-visual-result-container__details-container', [\n                    m(DetailsPanelView),\n                ]),\n                m(VisualComparePanelView),\n            ]),\n            m('.1/5.grid__cell', [\n                m(`.b-box--padding-left-md-llg.b-visual-result-container__side-bar.b-animation\n                ${VisualResultContainerModel.isHistoryListMenuVisible()? '.b-animation--blur' : ''}`, [\n                    m('.b-visual-result-container__nav-map.b-box--padding-top-base.b-box--margin-bottom-base', [\n                        m(VisualNavigationMapView),\n                    ]),\n                    m('.b-visual-result-container__button-group', [\n                        m(ControlMenuView),\n                        m(VisualSlidePrev),\n                        m(VisualSlideNext),\n                    ]),\n                ]),\n            ]),\n\n        ]);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-result-container/visual-result-container-view.js","import DataService from './../service/data-service';\n\nclass VisualResultContainerModel {\n\n    isDetailsPanelVisible() {\n        return DataService.isDetailsPanelVisible();\n    }\n\n    isHistoryListMenuVisible(){\n        return DataService.isHistoryListMenuVisible();\n    }\n}\n\nmodule.exports = new VisualResultContainerModel();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-result-container/visual-result-container-model.js","import VisualComparePanelModel from './visual-compare-panel-model';\n\nmodule.exports = class VisualComparePanelView {\n\n    constructor(){\n        this.title = 'VisualComparePanelView';\n    }\n\n    oncreate() {\n        VisualComparePanelModel.createImageViewer();\n    }\n\n    view(vnode) {\n        return m('div.b-visual-compare-panel', [\n            m('h3.sr-only', `${vnode.state.title}`),\n            m('.b-visual-compare-panel__image-viewer-container', {\n                id: VisualComparePanelModel.getImageViewerId(),\n            }),\n\n        ]);\n    }\n\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-compare-panel/visual-compare-panel-view.js","import Constant from './../constant/constant';\nimport ImageViewer from './../image-viewer/image-viewer';\n\nclass VisualComparePanelModel {\n\n    constructor() {\n\n    }\n\n    getImageViewerId () {\n        return Constant.imageViewerId;\n    }\n\n    createImageViewer() {\n        if(this._imageViewer){\n            return this._imageViewer;\n        }\n        this._imageViewer = new ImageViewer();\n    }\n\n}\n\nmodule.exports = new VisualComparePanelModel();\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-compare-panel/visual-compare-panel-model.js","import * as PIXI from 'pixi.js';\n\nimport ImageViewerService from './service/image-viewer-service';\nimport ImageViewerHelper from './image-viewer-helper';\n\nimport Component from './component';\nimport TestScreenshot from './test-screenshot/test-screenshot';\nimport ReferenceScreenshot from './reference-screenshot/reference-screenshot';\nimport SwipeBar from './swipe-bar/swipe-bar';\n\nconst BACKGROUND_COLOUR = '0x363636';\n\n//Global config\nPIXI.utils.skipHello();\n\nclass ImageViewer extends Component{\n\n    constructor() {\n        super();\n        this._children = {};\n        this._app = new PIXI.Application({\n            autoResize: true,\n            antialias: true,\n            backgroundColor: BACKGROUND_COLOUR,\n            width:  ImageViewerHelper.getContainer().clientWidth,\n            height: ImageViewerHelper.getBodyHeight(),\n        });\n\n        this._loadComponents();\n\n        ImageViewerHelper.getContainer().appendChild(this._app.view);\n        ImageViewerService.subscribe('testScreenshot', this.handleScreenshotChange, 'ImageViewer');\n        ImageViewerService.subscribe('referenceScreenshot', this.handleScreenshotChange, 'ImageViewer');\n        ImageViewerService.subscribe('state', this.handleStateChange, 'ImageViewer');\n        window.addEventListener('resize', this.resize);\n        this.resize();\n\n    }\n\n    handleScreenshotChange() {\n        this.resize();\n    }\n\n    handleStateChange(keyPath, data){\n        this._filter.enabled = data.showingBlur;\n    }\n    \n    getContainerHeight() {\n        return Math.max(\n            ImageViewerHelper.getBodyHeight(),\n            this._children.testScreenshot.getElement().height,\n            this._children.referenceScreenshot.getElement().height\n        );\n    }\n\n    getElement() {\n        return this._app;\n    }\n\n    resize(){\n        this._app.renderer.resize(\n            ImageViewerHelper.getContainer().clientWidth,\n            this.getContainerHeight()\n        );\n    }\n\n\n\n    /* -------------------------- Helpers ---------------------------- */\n    _loadComponents() {\n        this._children.testScreenshot = new TestScreenshot();\n        this._children.referenceScreenshot = new ReferenceScreenshot();\n        this._children.swipeBar = new SwipeBar();\n        this._filter = this._createBlurFilter();\n\n        //The loading sequence is from bottom to top\n        this._app.stage.addChild(this._children.testScreenshot.getElement());\n        this._app.stage.addChild(this._children.referenceScreenshot.getElement());\n        this._app.stage.addChild(this._children.swipeBar.getElement());\n        this._app.stage.filters = [this._filter];\n\n    }\n\n    _createBlurFilter() {\n        let filter = new PIXI.filters.ColorMatrixFilter();\n        filter.greyscale(0.35);\n        filter.autoFit = true;\n        filter.enabled = false;\n        return filter;\n    }\n\n}\n\nmodule.exports = ImageViewer;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/image-viewer.js","import * as PIXI from 'pixi.js';\nimport AbstractDataService from './../../../lib/abstract-data-service';\nimport DataService from './../../service/data-service';\nimport {Strings, Objects} from './../../../lib/helpers/helpers';\n\n/**\n * Image viewer service\n */\n\nconst FLAG_RESET = 0;\nconst FLAG_VISUAL_TEST_UPDATE = 1;\nconst FLAG_VISUAL_TEST_REFERENCE_UPDATE = 2;\nconst FLAG_READY_UPDATE = 3;\nconst FLAG_LOADING = 4;\nconst FLAG_LOADED = 7;\n\nclass ImageViewerService extends AbstractDataService {\n\n    constructor() {\n        super();\n\n        this._data = {\n            testScreenshotId: '',\n            referenceScreenshotId: '',\n            swipeBarPosition: {},\n            testScreenshot: {},\n            referenceScreenshot: {},\n            state: {\n                showingBlur: false,\n            },\n        };\n\n        this._currentState = FLAG_RESET;\n\n        DataService.subscribe('currentVisualTest', this.handleCurrentTestUpdate, 'imageViewerStateService');\n        DataService.subscribe('currentVisualReference', this.handleCurrentTestReferenceUpdate, 'imageViewerStateService');\n        DataService.subscribe('componentStates', this.handleComponentStateChanges, 'imageViewerStateService');\n    }\n\n    handleCurrentTestUpdate(){\n        this._updateStateFlag(FLAG_VISUAL_TEST_UPDATE);\n    }\n\n    handleCurrentTestReferenceUpdate() {\n        this._updateStateFlag(FLAG_VISUAL_TEST_REFERENCE_UPDATE);\n    }\n\n    handleComponentStateChanges(keyPath, data) {\n        let newBlurState = (data.detailsPanelVisibility || data.historyListMenuVisibility );\n        if(this._data.state.showingBlur !== newBlurState){\n            this._data.state.showingBlur = newBlurState;\n            this.broadcastDataChanges('state');\n        }\n    }\n\n    showCurrentResult() {\n        this._currentState = FLAG_LOADING;\n        this._getNewScreenshotIds();\n        PIXI.loader.destroy();\n        PIXI.loader\n            .add(this._data.testScreenshotId, this.getVisualTestImage())\n            .add(this._data.referenceScreenshotId, this.getVisualTestReferenceImage())\n            .load(this.handleImagesLoaded);\n    }\n\n    setSwipeBarPosition(position) {\n        this._data.swipeBarPosition.x = position.x;\n        this.broadcastDataChanges('swipeBarPosition');\n    }\n\n    getVisualTestImage() {\n        return `${DataService.getTestResultRootPath()}/${DataService.getCurrentVisualTest().visualScreenshotPath}`;\n    }\n\n    getVisualTestReferenceImage() {\n        return`${DataService.getTestResultRootPath()}/${DataService.getCurrentVisualTestReference().visualScreenshotPath}`;\n    }\n\n    handleImagesLoaded(loader, resources) {\n        this._updateStateFlag(FLAG_LOADED);\n\n        Objects.empty(this._data.testScreenshot);\n        Objects.empty(this._data.referenceScreenshot);\n\n        Object.assign(this._data.testScreenshot, resources[this._data.testScreenshotId]);\n        Object.assign(this._data.referenceScreenshot, resources[this._data.referenceScreenshotId]);\n\n        this.broadcastDataChanges('testScreenshot');\n        this.broadcastDataChanges('referenceScreenshot');\n\n    }\n\n\n    /*---------------------------- Helpers -----------------------*/\n    _updateStateFlag(flag) {\n        if(flag === FLAG_LOADED || this._currentState === FLAG_LOADED) {\n            this._currentState = flag;\n            return;\n        }\n\n        if(flag < FLAG_READY_UPDATE && this._currentState > FLAG_READY_UPDATE){\n            this._currentState = FLAG_RESET;\n        }\n\n        this._currentState += flag;\n\n        if(this._currentState === FLAG_READY_UPDATE) {\n            this.showCurrentResult();\n            return;\n        }\n\n    }\n\n    _getNewScreenshotIds() {\n        this._data.testScreenshotId = Strings.random(8);\n        this._data.referenceScreenshotId = Strings.random(8);\n    }\n\n\n}\n\nmodule.exports = new ImageViewerService();\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/service/image-viewer-service.js","import Constant from './../constant/constant';\n\n/**\n * Images helper class\n */\nclass ImageViewerHelper {\n\n    static getContainer() {\n        return document.getElementById(Constant.imageViewerId);\n    }\n\n    static getBodyHeight() {\n        return document.body.clientHeight;\n    }\n\n}\n\nmodule.exports = ImageViewerHelper;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/image-viewer-helper.js","import {Strings} from './../../lib/helpers/helpers';\n\nexport default class Component {\n\n    constructor(options) {\n        this._id = Strings.random(8);\n        this._options = options;\n        this._element = undefined;\n        this._bindThisToHandlers();\n\n        return this._element;\n    }\n\n\n    getOptions() {\n        return this._options;\n    }\n\n    getElement() {\n        return this._element;\n    }\n\n    destroy() {\n        this._element.destroy();\n    }\n\n\n\n    /*------------------------------- Helpers -------------------------------- */\n    /**\n     * Bind this to public functions\n     * @private\n     */\n    _bindThisToHandlers() {\n        for (let name of Object.getOwnPropertyNames(Object.getPrototypeOf(this))) {\n            let method = this[name];\n            // Supposedly you'd like to skip constructor\n            if (!(method instanceof Function) || method === this || !this._validateHandlerProperty(name)) {\n                continue;\n            }\n            this[name] = this[name].bind(this);\n        }\n    }\n\n    /**\n     * Helper to exclude functions from view handlers\n     * @param property\n     * @returns {boolean}\n     * @private\n     */\n    _validateHandlerProperty(property) {\n        let excludedNames = ['on', 'off'];\n        return !(property.startsWith('_') ||\n            (typeof this[property] !== 'function') ||\n            !Object.is(excludedNames.find((name)=>{return name === property;}), undefined));\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/component.js","\nmodule.exports = {\n    imageViewerId: 'image-viewer',\n    devTestResultRootPath: 'regression-tests/',\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/constant/constant.js","import * as PIXI from 'pixi.js';\nimport {Images, Strings} from './../../../lib/helpers/helpers';\nimport ImageViewerHelper from './../image-viewer-helper';\nimport ImageViewerService from './../service/image-viewer-service';\nimport Component from './../component';\n\nclass TestScreenshot extends Component{\n\n    constructor(options={id:Strings.random(8)}) {\n        super();\n        this._options = options;\n        this._element = new PIXI.Container();\n        this._screenshot = undefined;\n        ImageViewerService.subscribe('testScreenshot', this.handleScreenshotChange, 'TestScreenshot');\n        window.addEventListener('resize', this.resize);\n    }\n\n    handleScreenshotChange(ketPath, img){\n        if(this._screenshot){\n            this._element.removeChild(this._screenshot);\n            this._screenshot.destroy();\n        }\n        this._screenshot = new PIXI.Sprite(img.texture);\n        this._options = Object.assign(this._options, Images.getImageCenterParams(img.data, ImageViewerHelper.getContainer(), true));\n        this._element.addChild(this._screenshot);\n        this.resize();\n    }\n\n    resize() {\n        if(!this._screenshot){\n            return;\n        }\n        this._options = Object.assign(this._options, Images.getImageCenterParams(this._options, ImageViewerHelper.getContainer()));\n        this._element.width = this._options.width;\n        this._element.height = this._options.height;\n        this._element.position.x = this._options.positionX;\n        this._element.position.y = this._options.positionY;\n    }\n\n\n}\n\nmodule.exports = TestScreenshot;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/test-screenshot/test-screenshot.js","import * as PIXI from 'pixi.js';\nimport {Images, Strings} from './../../../lib/helpers/helpers';\nimport ImageViewerHelper from './../image-viewer-helper';\nimport ImageViewerService from './../service/image-viewer-service';\nimport Component from './../component';\n\n\nconst MASK_COLOUR = 0x00aaff;\nconst MASK_ALPHA = 1;\n\nclass ReferenceScreenshot extends Component{\n\n    constructor(options={\n        id:Strings.random(8),\n        subscribeKey: 'testScreenshot',\n        isReference: false,\n    }) {\n        super();\n        this._options = options;\n        this._element = new PIXI.Container();\n\n        this._screenshot = undefined;\n        this._text = undefined;\n        this.createText();\n\n        this._mask = undefined;\n        this.createMask();\n\n        ImageViewerService.subscribe('referenceScreenshot', this.handleScreenshotChange, 'ReferenceScreenshot');\n        this._swipeBarPositionSubscriber = ImageViewerService.subscribe('swipeBarPosition', this.handleSwipeBarPositionChange, 'ReferenceScreenshot');\n        window.addEventListener('resize', this.resize);\n    }\n\n    createText() {\n        var style = new PIXI.TextStyle({\n            fontFamily: 'Arial',\n            fontSize: 14,\n            fontWeight: 'normal',\n            fill: ['#00aaff', '#00aaff'], // gradient\n            stroke: '#00aaff',\n            strokeThickness: 0.2,\n        });\n\n        this._text = new PIXI.Text('REFERENCE', style);\n        this._text.position.x = 5;\n        this._text.position.y = 5;\n        this._element.addChild(this._text);\n\n    }\n\n    createMask() {\n        this._mask = new PIXI.Graphics();\n\n        // set a fill and line style\n        this._mask.beginFill(MASK_COLOUR, MASK_ALPHA);\n        this._mask.lineStyle(1, MASK_COLOUR, 1);\n\n        // draw a shape\n        let positionX = 0;\n        let positionY = 0;\n        let width = ImageViewerHelper.getContainer().clientWidth;\n        let height = 500;\n        // let height = ImageViewerHelper.getContainer().clientHeight;\n        this._mask.moveTo(positionX, positionY);\n        this._mask.lineTo(positionX + width, positionY);\n        this._mask.lineTo(positionX + width, height);\n        this._mask.lineTo(positionX, height);\n        this._mask.endFill();\n\n        this._mask.position.x = 0;\n        this._mask.position.y = 0;\n        this._element.addChild(this._mask);\n        this._element.mask = this._mask;\n    }\n\n    handleScreenshotChange(ketPath, img){\n        if(this._screenshot){\n            this._element.removeChild(this._text);\n            this._text.destroy();\n            this._element.removeChild(this._screenshot);\n            this._screenshot.destroy();\n        }\n        this._screenshot = new PIXI.Sprite(img.texture);\n        this._options = Object.assign(this._options, Images.getImageCenterParams(img.data, ImageViewerHelper.getContainer(), true));\n        this._element.addChild(this._screenshot);\n        this.createText();\n        this.resize();\n    }\n\n    /**\n     * For test reference, handle the mask position and size update\n     */\n    handleSwipeBarPositionChange() {\n        this._resizeMask();\n    }\n\n    resize() {\n        this._resizeMask();\n        if(!this._screenshot){\n            return;\n        }\n        this._options = Object.assign(this._options, Images.getImageCenterParams(this._options, ImageViewerHelper.getContainer()));\n        this._screenshot.width = this._options.width;\n        this._screenshot.height = this._options.height;\n        this._screenshot.position.x = this._options.positionX;\n        this._screenshot.position.y = this._options.positionY;\n    }\n\n    _resizeMask() {\n        this._mask.width = this._swipeBarPositionSubscriber.proxy.x;\n        this._mask.height = ImageViewerHelper.getContainer().clientHeight;\n    }\n}\n\nmodule.exports = ReferenceScreenshot;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/reference-screenshot/reference-screenshot.js","import * as PIXI from 'pixi.js';\nimport ImageViewerHelper from './../image-viewer-helper';\nimport Component from './../component';\nimport ImageViewerService from './../service/image-viewer-service';\n\nconst COLOUR = 0x00aaff;\nconst WIDTH = 2;\n\nclass SwipeBar extends Component {\n\n    constructor() {\n        super();\n\n        //default options\n        this._options = {\n            width:  WIDTH,\n            height: ImageViewerHelper.getBodyHeight(),\n            positionX: 0,\n            positionY: 0,\n        };\n\n        this._draggingData = undefined;\n\n        this._element = undefined;\n        this._createButtonStyle();\n        this._registerEventHandlers();\n        this.resetPosition();\n\n        ImageViewerService.subscribe('testScreenshot', this.handleScreenshotChange, 'Screenshot');\n        ImageViewerService.subscribe('referenceScreenshot', this.handleScreenshotChange, 'Screenshot');\n\n        window.addEventListener('resize', this.resize);\n        this.resize();\n    }\n\n    _createButtonStyle(){\n        this._element = new PIXI.Graphics();\n\n        // set a fill and line style\n        this._element.beginFill(COLOUR);\n        this._element.lineStyle(1, COLOUR, 1);\n\n        // draw a shape\n        this._element.moveTo(this._options.positionX, this._options.positionY);\n        this._element.lineTo(this._options.positionX + this._options.width, this._options.positionY);\n        this._element.lineTo(this._options.positionX + this._options.width, this._options.height);\n        this._element.lineTo(this._options.positionX, this._options.height);\n        this._element.endFill();\n\n        //enable button mode\n        this._element.interactive = true;\n        this._element.buttonMode = true;\n    }\n\n    _registerEventHandlers() {\n        this._element.on('pointerdown', this.onDragStart)\n            .on('pointerup', this.onDragEnd)\n            .on('pointerupoutside', this.onDragEnd)\n            .on('pointermove', this.onDragMove);\n    }\n\n    resetPosition() {\n        this._element.position.x = (ImageViewerHelper.getContainer().clientWidth - WIDTH) / 2;\n        ImageViewerService.setSwipeBarPosition({\n            x: this._element.position.x,\n        });\n    }\n\n    handleScreenshotChange(){\n        this.resize();\n        this.resetPosition();\n    }\n\n    resize() {\n        if(!this._element){\n            return;\n        }\n        let scale = this._element.height / ImageViewerHelper.getContainer().clientHeight;\n        this._element.position.x = this._element.position.x / scale;\n        this._element.height = ImageViewerHelper.getContainer().clientHeight;\n        ImageViewerService.setSwipeBarPosition({\n            x: this._element.position.x,\n        });\n    }\n\n\n    /*-------------------- handlers ---------------------*/\n    onDragStart(event) {\n        this._draggingData = event.data;\n    }\n\n    onDragEnd() {\n        this._draggingData = undefined;\n    }\n\n    onDragMove() {\n        if(this._draggingData) {\n            let newPositionX = this._draggingData.getLocalPosition(this._element.parent).x;\n            if(newPositionX <= WIDTH){\n                this._element.position.x = WIDTH;\n            }\n            if(newPositionX >= ImageViewerHelper.getContainer().clientWidth - WIDTH) {\n                newPositionX = ImageViewerHelper.getContainer().clientWidth - WIDTH;\n            }\n            this._element.position.x = newPositionX;\n            ImageViewerService.setSwipeBarPosition({\n                x: this._element.position.x,\n            });\n        }\n    }\n\n}\n\nmodule.exports = SwipeBar;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/swipe-bar/swipe-bar.js","import VisualNavigationMapModel from './visual-navigation-map-model';\n\n\nmodule.exports = class VisualNavigationMapView {\n\n    constructor(){\n        this.title = 'VisualNavigationMapView';\n    }\n\n    view(vnode) {\n        return m('div.b-visual-navigation-map.b-component', {\n            style: { 'background-image': `url(${VisualNavigationMapModel.getScreenShot()})`},\n        },[\n            m('h3.sr-only', `${vnode.state.title}`),\n        ]);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-navigation-map/visual-navigation-map-view.js","import DataService from '../service/data-service';\n\nclass VisualNavigationMapModel {\n\n    constructor(){\n    }\n\n    getScreenShot() {\n        let test = DataService.getCurrentVisualTest();\n        if(test.pass) {\n            return `${DataService.getTestResultRootPath()}/${DataService.getCurrentVisualTest().visualScreenshotPath}`;\n        } else {\n            return `${DataService.getTestResultRootPath()}/${DataService.getCurrentVisualTest().visualDifferPath}`;\n        }\n    }\n\n}\n\nmodule.exports = new VisualNavigationMapModel();\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-navigation-map/visual-navigation-map-model.js","import DetailsPanelModel from './details-panel-model';\nimport HistoryDetailsView from './../history-details/history-details-view';\nimport ScreenshotDetailsView from './../screenshot-details/screenshot-details-view';\n\nmodule.exports = class DetailsPanelView {\n\n    constructor(){\n        this.title = 'Details';\n    }\n\n    view(vnode) {\n        return m('.b-details-panel', [\n            m('.b-details-panel__content-container', [\n\n                m('h2.b-title.b-title--h2.b-text--label', [\n                    m('span.b-icon.b-icon--fa.b-icon--position-base-left.fa-feather', `${vnode.state.title}`),\n                ]),\n                m('p', `${DetailsPanelModel.getTestName()}.`),\n                m('a.b-link.b-link--block', {\n                    href: `${DetailsPanelModel.getTestPageUrl()}`,\n                }, `${DetailsPanelModel.getTestPageUrl()}`),\n                m('.b-component--paragraph'),\n\n                m(HistoryDetailsView, DetailsPanelModel.getHistoryDetails()),\n                m('.b-component'),\n\n                m('h3.b-title.b-title--h3', 'Test'),\n                m(ScreenshotDetailsView, DetailsPanelModel.getTestScreenshotDetails()),\n                m('.b-component'),\n\n                m('h3.b-title.b-title--h3', 'Reference'),\n                m(ScreenshotDetailsView, DetailsPanelModel.getReferenceScreenshotDetails()),\n                m('.b-component'),\n\n            ]),\n        ]);\n    }\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/details-panel/details-panel-view.js","import DataService from './../service/data-service';\n\nclass DetailsPanelModel {\n\n    getTestPageUrl() {\n        return DataService.getCurrentVisualTest().url;\n    }\n\n    getTestName() {\n        return DataService.getCurrentVisualTest().name;\n    }\n\n    getHistoryDetails() {\n        if(!DataService.getCurrentHistory()) {\n            return;\n        }\n\n        return {\n            instance: DataService.getCurrentHistory().instance,\n            server: DataService.getCurrentHistory().server,\n            report: DataService.getCurrentHistory().report,\n        };\n    }\n\n    getTestScreenshotDetails() {\n        return DataService.getCurrentVisualTest();\n    }\n\n    getReferenceScreenshotDetails() {\n        return DataService.getCurrentVisualTestReference();\n    }\n\n}\n\nmodule.exports = new DetailsPanelModel();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/details-panel/details-panel-model.js","import {Dates} from './../../lib/helpers/helpers';\nimport DataService from './../service/data-service';\nimport ScreenshotDetailsModel from './screenshot-details-model';\n\nmodule.exports = class ScreenshotDetailsView {\n\n    constructor(){\n\n    }\n\n    view(vnode) {\n        return m('.b-history-details', [\n\n            m('.b-featured-table.b-component', [\n\n                m('.b-featured-table__row', [\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Browser'),\n                    m('.1/4.b-featured-table__cell', ScreenshotDetailsModel.getBrowserInfo(vnode)),\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Created at'),\n                    m('.1/4.b-featured-table__cell', Dates.getDateTime(vnode.attrs.createdAt)),\n                ]),\n\n                m('.b-featured-table__row', [\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Viewport'),\n                    m('.3/4.b-featured-table__cell', vnode.attrs.viewport),\n                ]),\n\n                m('.b-featured-table__row', [\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Test image'),\n                    m(`${vnode.attrs.visualDifferPath ? '.1/4' : '.3/4'}.b-featured-table__cell`, [\n                        m('a.b-link.b-link--block.b-text--color-dark', {\n                            href: `${DataService.getTestResultRootPath()}/${vnode.attrs.visualScreenshotPath}`,\n                            download: true,\n                        }, [\n                            m('span.b-icon.b-icon--fa.b-icon--position-base-left.fa-download', 'download'),\n                        ]),\n                    ]),\n                    vnode.attrs.visualDifferPath &&\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Differ image'),\n\n                    vnode.attrs.visualDifferPath &&\n                    m('.1/4.b-featured-table__cell', [\n                        m('a.b-link.b-link--block.b-text--color-dark', {\n                            href: `${DataService.getTestResultRootPath()}/${vnode.attrs.visualDifferPath}`,\n                            download: true,\n                        }, [\n                            m('span.b-icon.b-icon--fa.b-icon--position-base-left.fa-download', 'download'),\n                        ]),\n                    ]),\n                ]),\n\n                //For visual test screenshot image, not the reference\n                Object.is(vnode.attrs.visualReferenceId, undefined) === false &&\n                m('.b-featured-table__row', [\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Status'),\n                    m(`${vnode.attrs.approvedAt ? '.1/4' : '.3/4'}.b-featured-table__cell`,\n                        `${ScreenshotDetailsModel.getTestResultState(vnode)}`),\n                    vnode.attrs.approvedAt &&\n                    m('.1/4.b-featured-table__cell.b-featured-table__cell--head', 'Approved at'),\n\n                    vnode.attrs.approvedAt &&\n                    m('.1/4.b-featured-table__cell', Dates.getDateTime(vnode.attrs.approvedAt)),\n\n                ]),\n\n\n            ]),\n        ]);\n    }\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/screenshot-details/screenshot-details-view.js","import platform from 'platform';\n\nclass DetailsPanelModel {\n\n    getTestResultState(vnode) {\n        if(Object.is(vnode.attrs.pass, undefined) || vnode.attrs.pass === true) {\n            return 'passed';\n        }\n\n        if(vnode.attrs.pass === false ) {\n            return 'pending';\n        }\n\n        if(vnode.attrs.pass === true && !Object.is(vnode.attrs.approvedAt, undefined)) {\n            return 'approved';\n        }\n    }\n\n    getBrowserInfo(vnode) {\n        let info = platform.parse(vnode.attrs.browser);\n        return `${info.name} ${info.version}`;\n    }\n}\n\nmodule.exports = new DetailsPanelModel();\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/screenshot-details/screenshot-details-model.js","import VisualSlideNextModel from './visual-slide-next-model';\n\nmodule.exports = class VisualSlideNextView {\n\n    constructor(){\n        this.title = 'VisualSlidePrevView';\n    }\n\n    view(vnode) {\n        return m('div.b-visual-slide-next', [\n            m('h3.sr-only', `${vnode.state.title}`),\n            m('a.b-button.b-button--light-grey.b-button--hover-right.b-icon.b-icon--fa.b-icon--position-base-left.fa-chevron-circle-right[href=javascript:void(0);]',\n                {\n                    onclick() {\n                        VisualSlideNextModel.setNextTest();\n                    },\n                },\n                [\n                    m('span.b-button__text', `show next (${VisualSlideNextModel.getNextResultIndex()})`),\n                ]\n            ),\n        ]);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-slide-next/visual-slide-next-view.js","import StateService from './../service/state-service';\n\nclass VisualSlideNextModel {\n\n    constructor() {\n\n    }\n\n    setNextTest() {\n        StateService.setNextVisualTest();\n    }\n\n    getNextResultIndex() {\n        return StateService.getNextTestIndex();\n    }\n}\n\nmodule.exports = new VisualSlideNextModel();\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-slide-next/visual-slide-next-model.js","import VisualSlidePrevModel from './visual-slide-prev-model';\n\nmodule.exports = class VisualSlidePrevView {\n\n    constructor(){\n        this.title = 'VisualSlideNextView';\n    }\n\n    view(vnode) {\n        return m('div.b-visual-slide-next', [\n            m('h3.sr-only', `${vnode.state.title}`),\n            m('a.b-button.b-button--light-grey.b-button--hover-right.b-button--gap-1px.b-icon.b-icon--fa.b-icon--position-base-left.fa-chevron-circle-left[href=javascript:void(0);]',\n                {\n                    onclick() {\n                        VisualSlidePrevModel.setPreviousTest();\n                    },\n                },\n                [\n                    m('span.b-button__text', 'show previous'),\n                ]\n            ),\n        ]);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-slide-prev/visual-slide-prev-view.js","import StateService from './../service/state-service';\n\nclass VisualSlidePrevModel {\n\n    constructor() {\n\n    }\n\n    setPreviousTest() {\n        StateService.setPreviousVisualTest();\n    }\n\n}\n\nmodule.exports = new VisualSlidePrevModel();\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-slide-prev/visual-slide-prev-model.js","import ControlMenuModel from './control-menu-model';\n\nmodule.exports = class ControlMenuView {\n\n    constructor(){\n        this.title = 'ControlMenuView';\n    }\n\n    view(vnode) {\n        return m('div.b-control-menu', [\n            m('h3.sr-only', `${vnode.state.title}`),\n\n            m(`a.b-button.b-button--hover-right.b-button--gap-1px\n            .b-icon.b-icon--fa.b-icon--position-base-left.fa-feather[href=javascript:void(0);]\n            ${ControlMenuModel.isShowingDetails() ? '.b-button--sky' : '.b-button--light-grey'}`, {\n                onclick(){ControlMenuModel.toggleDetailsPanel();},\n            }, [m('span.b-button__text', `${ControlMenuModel.getDetailsButtonText()}`)]),\n\n            ControlMenuModel.getFailedTotal() !== 0 &&\n            m('p.b-box--padding-left-sm.b-icon.b-icon--fa.b-icon--position-base-left.fa-fish', `${ControlMenuModel.getFailedTotal()} differences`),\n\n            ControlMenuModel.isResultFailed() &&\n            m(`a.b-button.b-button--hover-right.b-button--gap-1px\n            .b-icon.b-icon--fa.b-icon--position-base-left.fa-thumbs-up[href=javascript:void(0);]\n            ${ControlMenuModel.isShowingDetails() ? '.b-button--light-grey' : '.b-button--sky'}`, {\n                onclick(){ControlMenuModel.approveTest();},\n            }, [m('span.b-button__text', 'approve test')]),\n\n            ControlMenuModel.isResultPass() &&\n            m('p.b-box--padding-left-sm.b-icon.b-icon--fa.b-icon--position-base-left.fa-hand-peace', 'passed'),\n\n            ControlMenuModel.isResultApproved() &&\n            m('p.b-box--padding-left-sm.b-icon.b-icon--fa.b-icon--position-base-left.fa-handshake', 'approved'),\n\n        ]);\n    }\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/control-menu/control-menu-view.js","import StateService from './../service/state-service';\nimport DataService from './../service/data-service';\nimport {History} from './../component-helpers/component-helpers';\n\nclass ControlMenuModel {\n\n    constructor(){\n        this.title = 'ControlMenuModel';\n    }\n\n    approveTest() {\n        StateService.approveCurrentTest();\n    }\n\n    toggleDetailsPanel() {\n        if(DataService.isDetailsPanelVisible()){\n            StateService.hideDetailsPanel();\n        } else {\n            StateService.showDetailsPanel();\n        }\n    }\n\n    getFailedTotal() {\n        return History.getHistoryFailedTests(DataService.getCurrentHistory()).length;\n    }\n\n    getDetailsButtonText() {\n        return this.isShowingDetails() ? 'hide details' : 'show details';\n    }\n\n    isShowingDetails() {\n        return DataService.isDetailsPanelVisible();\n    }\n\n    isResultFailed() {\n        return !DataService.getCurrentVisualTest().pass;\n    }\n\n    isResultApproved() {\n        return DataService.getCurrentVisualTest().pass && DataService.getCurrentVisualTest().approvedAt;\n    }\n\n    isResultPass() {\n        return DataService.getCurrentVisualTest().pass && !DataService.getCurrentVisualTest().approvedAt;\n    }\n\n\n}\n\nmodule.exports = new ControlMenuModel();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/control-menu/control-menu-model.js","import SplashPageModel from './splash-page-model';\nimport SpinnerView from './../spinner/spinner-view';\n\nmodule.exports = class SplashPageView {\n\n    constructor() {\n        this._looper = null;\n        this._dataLoaded = false;\n        this._routeToMainInvokedCount = 0;\n    }\n\n    oninit() {\n        this._dataLoaded = false;\n        Promise.all([\n            SplashPageModel.fetchConfig(),\n            SplashPageModel.fetchHistoryList(),\n        ]).then(() => {\n            this._dataLoaded = true;\n            if (this._routeToMainInvokedCount) {\n                this.routeToMain();\n            }\n        });\n    }\n\n    view() {\n        return m('.b-page.b-page--bg-dark.b-page--position-fixed', [\n            m('.b-container.b-container--center.b-container--size-full', [\n                m(SpinnerView),\n            ]),\n        ]);\n    }\n\n    oncreate() {\n        this._looper = setTimeout(this.routeToMain.bind(this), 2000);\n    }\n\n    routeToMain() {\n        this._routeToMainInvokedCount++;\n        if (this._dataLoaded) {\n            clearTimeout(this._looper);\n            m.route.set('/landing');\n        }\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/splash-page/splash-page-view.js","import DataService from '../service/data-service';\n\nclass SplashPageModel {\n\n    constructor() {\n\n    }\n\n    fetchHistoryList() {\n        return DataService.fetchHistoryList();\n    }\n\n    fetchConfig() {\n        return DataService.fetchConfig();\n    }\n}\n\nmodule.exports = new SplashPageModel();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/splash-page/splash-page-model.js","/**\n * Helper utility methods\n */\n\n/**\n * Booleans helper class\n */\nclass Booleans {\n    /**\n     * Check if the variable has a truthy value or not,\n     * will evaluate to true if value is not: null/undefined/NaN/empty string (\"\")/0/false\n     * @see http://stackoverflow.com/questions/3571717/javascript-negative-number\n     * @see http://stackoverflow.com/questions/6449611/how-to-check-whether-a-value-is-a-number-in-javascript-or-jquery\n     *\n     * @param {Number|*} val - The value to test\n     * @returns {boolean} - true if the value is \"truthy\", else false\n     */\n    static isTruthyValue (val) {\n        return (val || parseInt(val, 10) === 0) ? true : false;\n    }\n\n}\n\nexport {Booleans};\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/booleans.js","import _ from 'lodash';\n\nimport {Objects} from './../../lib/helpers/helpers';\nimport config from './../../config';\nimport Constant from './../constant/constant';\nimport ComponentHelpers from './../component-helpers/component-helpers';\nimport AbstractDataService from './../../lib/abstract-data-service';\n\nconst historyEndpoint = `${config.apiRootPath}/history`;\nconst visualEndpoint = `${config.apiRootPath}/visual`;\n\nclass DataService extends AbstractDataService {\n\n    constructor() {\n        super();\n\n        this._data = {\n            componentStates: {\n                detailsPanelVisibility: false,\n                historyListMenuVisibility: false,\n                loadingCurrentHistory: false,\n            },\n            apiConfig: {},\n            histories : [],\n            currentHistory : {},\n            currentVisualTest: {},\n            currentVisualReference: {},\n        };\n\n    }\n\n    getTestResultRootPath() {\n        return config.outputPath;\n    }\n\n    fetchConfig() {\n        return new Promise((resolve, reject)=> {\n            m.request({\n                method: 'GET',\n                url: `${config.apiRootPath}`,\n            }).then((result)=> {\n                if(result) {\n                    Object.assign(\n                        this._data.apiConfig,\n                        result\n                    );\n                    resolve(this._data.apiConfig);\n                } else {\n                    reject(undefined);\n                }\n            }).catch((err)=> {\n                console.warn('Get api config wrong', err);\n                reject(undefined);\n            });\n\n        });\n    }\n\n    fetchHistoryList(limit=20) {\n        return new Promise((resolve, reject)=> {\n            if(_.isEmpty(this._data.histories)) {\n                m.request({\n                    method: 'GET',\n                    url: `${historyEndpoint}?limit=${limit}`,\n                }).then((result)=> {\n                    if(result && result.data) {\n                        Object.assign(\n                            this._data.histories,\n                            ComponentHelpers.History.sortHistory(result.data)\n                        );\n                        this.broadcastDataChanges('histories');\n                        resolve(this._data.histories);\n                    } else {\n                        reject(undefined);\n                    }\n                }).catch((err)=> {\n                    console.warn('List history err', err);\n                    reject(undefined);\n                });\n            } else {\n                resolve(this._data.histories);\n            }\n        });\n\n    }\n\n    setCurrentHistory(id) {\n\n        this.setLoadingCurrentHistoryState(true);\n\n        return new Promise((resolve, reject)=> {\n            m.request({\n                method: 'GET',\n                url: `${historyEndpoint}?id=${id}`,\n            }).then((result)=> {\n                if(result && result.data) {\n                    Objects.empty(this._data.currentHistory);\n                    Object.assign(\n                        this._data.currentHistory,\n                        result.data,\n                        {visualTests: ComponentHelpers.Visual.sortTestResults(result.data.visualTests)}\n                    );\n                    this.broadcastDataChanges('currentHistory');\n                    resolve(this._data.currentHistory);\n                } else {\n                    reject(undefined);\n                }\n            }).catch((err)=> {\n                console.warn('setCurrentHistory err', err);\n                reject(undefined);\n            }).finally(()=> {\n                this.setLoadingCurrentHistoryState(false);\n            });\n        });\n    }\n\n    getCurrentHistory() {\n        return this._data.currentHistory;\n    }\n\n    setCurrentVisualTest(test) {\n        Objects.empty(this._data.currentVisualTest);\n        Object.assign(this._data.currentVisualTest, test);\n        this.broadcastDataChanges('currentVisualTest');\n        return this._data.currentVisualTest;\n    }\n\n    getCurrentVisualTest() {\n        return this._data.currentVisualTest;\n    }\n\n    approveTest(test) {\n        return new Promise((resolve, reject)=> {\n\n            m.request({\n                method: 'PUT',\n                url: visualEndpoint,\n                data: {\n                    historyId: test.historyId,\n                    visualReferenceId: test.visualReferenceId,\n                    visualScreenshot: test.visualScreenshot,\n                    browser: test.browser,\n                    url: test.url,\n                    name: test.name,\n                    visualScreenshotPath: test.visualScreenshotPath,\n                    _id: test._id,\n                },\n            }).then((result)=> {\n                if(result && result.data) {\n                    Object.assign(\n                        this._data.currentHistory.visualTests.find((test)=> {\n                            return test._id === result.data.approvedVisualTest._id;\n                        }), result.data.approvedVisualTest);\n                    resolve(result.data);\n                } else {\n                    reject(undefined);\n                }\n            }).catch((err)=> {\n                console.warn('Approve test err', err);\n                reject(undefined);\n            });\n\n        });\n    }\n\n    setCurrentVisualTestReference(test) {\n        Objects.empty(this._data.currentVisualReference);\n        Object.assign(this._data.currentVisualReference,\n            ComponentHelpers.Visual.findTestReference(test, this._data.currentHistory.visualReferences));\n        this.broadcastDataChanges('currentVisualReference');\n        return this._data.currentVisualReference;\n\n    }\n\n    setLoadingCurrentHistoryState(state=true) {\n        this._data.componentStates.loadingCurrentHistory = state;\n        this.broadcastDataChanges('componentStates');\n    }\n\n    getCurrentVisualTestReference() {\n        return this._data.currentVisualReference;\n    }\n\n    setDetailsPanelVisibility(value=true) {\n        this._data.componentStates.detailsPanelVisibility = value;\n        this.broadcastDataChanges('componentStates');\n    }\n\n    isDetailsPanelVisible() {\n        return this._data.componentStates.detailsPanelVisibility;\n    }\n\n    setHistoryListMenuVisibility(value=true) {\n        this._data.componentStates.historyListMenuVisibility = value;\n        this.broadcastDataChanges('componentStates');\n    }\n\n    isHistoryListMenuVisible() {\n        return this._data.componentStates.historyListMenuVisibility;\n    }\n\n    isLoadingHistory() {\n        return this._data.componentStates.loadingCurrentHistory;\n    }\n\n    /*---------------------- helpers -------------------------*/\n\n}\n\nmodule.exports = new DataService();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/service/data-service.js"],"sourceRoot":""}