{"version":3,"sources":["webpack:///./components/service/state-service.js","webpack:///./lib/helpers/helpers.js","webpack:///./lib/abstract-data-service.js","webpack:///./components/constant/constant.js","webpack:///./styles/vendor-scss.js","webpack:///./index.js","webpack:///./components/landing-page/landing-page-view.js","webpack:///./components/landing-page/landing-page-model.js","webpack:///./lib/helpers/colors.js","webpack:///./lib/helpers/dates.js","webpack:///./lib/helpers/images.js","webpack:///./lib/helpers/numbers.js","webpack:///./lib/helpers/objects.js","webpack:///./lib/helpers/strings.js","webpack:///./config.js","webpack:///./components/component-helpers/component-helpers.js","webpack:///./components/component-helpers/history.js","webpack:///./components/component-helpers/visual.js","webpack:///./components/history-list-menu/history-list-menu-view.js","webpack:///./components/history-list-menu/history-list-menu-model.js","webpack:///./components/visual-result-container/visual-result-container-view.js","webpack:///./components/visual-result-container/visual-result-container-model.js","webpack:///./components/visual-compare-panel/visual-compare-panel-view.js","webpack:///./components/visual-compare-panel/visual-compare-panel-model.js","webpack:///./components/image-viewer/image-viewer.js","webpack:///./components/image-viewer/service/image-viewer-service.js","webpack:///./components/image-viewer/image-viewer-helper.js","webpack:///./components/image-viewer/component.js","webpack:///./components/image-viewer/test-screenshot/test-screenshot.js","webpack:///./components/image-viewer/reference-screenshot/reference-screenshot.js","webpack:///./components/image-viewer/swipe-bar/swipe-bar.js","webpack:///./components/visual-navigation-map/visual-navigation-map-view.js","webpack:///./components/visual-navigation-map/visual-navigation-map-model.js","webpack:///./components/details-panel/details-panel-view.js","webpack:///./components/details-panel/details-panel-model.js","webpack:///./components/visual-slide-next/visual-slide-next-view.js","webpack:///./components/visual-slide-next/visual-slide-next-model.js","webpack:///./components/visual-slide-prev/visual-slide-prev-view.js","webpack:///./components/visual-slide-prev/visual-slide-prev-model.js","webpack:///./components/control-menu/control-menu-view.js","webpack:///./components/control-menu/control-menu-model.js","webpack:///./components/splash-page/splash-page-view.js","webpack:///./components/splash-page/splash-page-model.js","webpack:///./lib/helpers/booleans.js","webpack:///./components/service/data-service.js"],"names":["__webpack_require__","StateService","_classCallCheck","this","_currentTestIndex","candidate","_this","Promise","resolve","reject","_dataService2","default","getCurrentHistory","Object","is","_id","setCurrentHistory","then","result","parsed","history","location","m","route","get","replace","set","_queryString2","stringify","_lodash2","isEmpty","visualTests","setCurrentVisualTest","setCurrentVisualTestReference","getCurrentVisualTest","catch","err","console","warn","length","_this2","hideDetailsPanel","approveTest","setNextVisualTest","setDetailsPanelVisibility","module","exports","_booleans","_colors","_dates","_images","_numbers","_objects","_strings","Helpers","Booleans","Colors","Dates","Images","Numbers","Objects","Strings","_helpers","AbstractDataService","_handleObservingDataChanges","bind","_data","_observers","Map","_subscribers","Set","keyPath","handler","instance","undefined","Error","subscriber","id","random","proxy","_createObservableProxy","add","delete","clear","excluded","data","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","value","return","prop","unsubscribeAll","hasOwnProperty","arguments","has","_observableSlim2","create","changes","broadcastDataChanges","imageViewerId","document","body","querySelector","/splash","_splashPageView2","/landing","_landingPageView2","LandingPageView","title","_createClass","key","vnode","_landingPageModel2","initState","results","state","histories","redraw","isReady","LandingPageModel","_isReady","fetchHistoryList","_stateService2","rgb","alpha","_booleans2","isTruthyValue","hex","shorthandRegex","toString","r","g","b","exec","parseInt","componentToHex","c","lum","hex2rgb","i","j","String","substr","Math","round","min","max","_moment2","utc","_f","Date","getFullYear","includes","getDateUTCFormat","format","getHour","getDate","getHourMinute","width","height","container","isOriginal","originParams","ratio","getRatio","positionX","positionY","containerWidth","offsetWidth","val","isNaN","parseFloat","isFinite","_lodash","target","isUndefined","isObject","forOwn","name","values","Proxy","obj","TypeError","keys","index","ReferenceError","Reflect","deleteProperty","str","n","useWordBoundary","isTooLong","s_","lastIndexOf","includedStr","secs","seconds","hours","floor","minutes","timeString","input","substring","toUpperCase","string","d","md5_cmn","_","f","safe_add","bit_rol","md5_ff","md5_gg","md5_hh","md5_ii","charCodeAt","charAt","M","fromCharCode","V","h","t","e","Array","Y","X","toLowerCase","apiRootPath","_history","_visual","ComponentHelpers","History","Visual","orderBy","tests","sortBy","test","references","find","reference","visualScreenshot","_historyListMenuModel","HistoryListMenuView","log","_historyListMenuModel2","getHistoryList","map","visualFailedTotal","onclick","server","HistoryListMenuModel","VisualResultContainer","_visualResultContainerModel2","isDetailsPanelVisible","VisualResultContainerModel","_visualComparePanelModel","VisualComparePanelView","_visualComparePanelModel2","createImageViewer","getImageViewerId","VisualComparePanelModel","_constant2","_imageViewer","_imageViewer2","PIXI","BACKGROUND_COLOUR","utils","skipHello","ImageViewer","_possibleConstructorReturn","__proto__","getPrototypeOf","call","_children","_element","Application","autoResize","antialias","backgroundColor","_imageViewerHelper2","getContainer","clientWidth","getBodyHeight","_loadComponents","appendChild","view","_imageViewerService2","subscribe","handleScreenshotChange","window","addEventListener","resize","testScreenshot","_testScreenshot2","referenceScreenshot","_referenceScreenshot2","swipeBar","_swipeBar2","stage","addChild","getElement","renderer","getContainerHeight","FLAG_RESET","ImageViewerService","handleCurrentTestUpdate","handleCurrentTestReferenceUpdate","handleImagesLoaded","testScreenshotId","referenceScreenshotId","swipeBarPosition","_currentState","_updateStateFlag","_getNewScreenshotIds","loader","destroy","getVisualTestImage","getVisualTestReferenceImage","load","position","x","getAssetRootPath","visualScreenshotPath","getCurrentVisualTestReference","resources","empty","assign","flag","showCurrentResult","_constant","ImageViewerHelper","getElementById","clientHeight","Component","options","_options","_bindThisToHandlers","getOwnPropertyNames","method","Function","_validateHandlerProperty","property","startsWith","TestScreenshot","Container","_screenshot","ketPath","img","removeChild","Sprite","texture","getImageCenterParams","y","ReferenceScreenshot","subscribeKey","isReference","_mask","createMask","_swipeBarPositionSubscriber","handleSwipeBarPositionChange","Graphics","beginFill","lineStyle","moveTo","lineTo","endFill","mask","_resizeMask","WIDTH","SwipeBar","_draggingData","_createButtonStyle","_registerEventHandlers","resetPosition","interactive","buttonMode","on","onDragStart","onDragEnd","onDragMove","setSwipeBarPosition","scale","event","newPositionX","getLocalPosition","parent","_visualNavigationMapModel","VisualNavigationMapView","style","background-image","_visualNavigationMapModel2","getScreenShot","VisualNavigationMapModel","pass","visualDifferPath","_detailsPanelModel","DetailsPanelView","_detailsPanelModel2","getTestName","href","getTestPageUrl","isResultPass","isResultFailed","isResultApproved","getTestApprovedDateTime","getTestCreateDateTime","getTestBrowserInfo","getReferenceCreateDate","getReferenceBrowserInfo","DetailsPanelModel","url","date","createdAt","approvedAt","browser","_visualSlideNextModel","VisualSlideNextView","_visualSlideNextModel2","setNextTest","VisualSlideNextModel","_visualSlidePrevModel","VisualSlidePrevView","_visualSlidePrevModel2","setPreviousTest","VisualSlidePrevModel","setPreviousVisualTest","_controlMenuModel","ControlMenuView","_controlMenuModel2","toggleDetailsPanel","ControlMenuModel","approveCurrentTest","showDetailsPanel","_splashPageModel","SplashPageView","_looper","_dataLoaded","_routeToMainInvokedCount","all","_splashPageModel2","routeToMain","setTimeout","clearTimeout","_dataService","SplashPageModel","historyEndpoint","_config2","visualEndpoint","DataService","currentHistory","currentVisualTest","currentVisualReference","_detailsPanelsVisibilty","request","_componentHelpers2","sortHistory","_this3","sortTestResults","historyId","visualReferenceId","findTestReference","visualReferences","_detailsPanelsVisibility"],"mappings":"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","file":"main-bundle.js","sourcesContent":["import _ from 'lodash';\nimport queryString from 'query-string';\nimport DataService from './data-service';\n\n/**\n * Application state services, manage features' states\n * including showing the details of a history (current history)\n */\nclass StateService {\n\n    constructor() {\n        this._currentTestIndex = 0;\n    }\n\n    /**\n     * Replace or add the current history which all components are showing its details with the candidate history\n     * @param {Object} candidate - history object\n     */\n    setCurrentHistory(candidate) {\n\n        return new Promise((resolve, reject)=> {\n\n            if( DataService.getCurrentHistory() &&\n                Object.is(DataService.getCurrentHistory()._id, candidate._id)\n            ) {\n                resolve(DataService.getCurrentHistory());\n                return;\n            }\n\n            DataService.setCurrentHistory(candidate._id).then((result)=> {\n\n                if(result && result._id) {\n                    const parsed = {history: result._id};\n                    let location = m.route.get().replace(/\\?(.*)/g, '');\n                    m.route.set(`${location}?${queryString.stringify(parsed)}`);\n                }\n\n                //reset index to 0\n                this._currentTestIndex = 0;\n\n                //set current visual test as the first visual test\n                if(!_.isEmpty(DataService.getCurrentHistory().visualTests)){\n                    DataService.setCurrentVisualTest(DataService.getCurrentHistory().visualTests[this._currentTestIndex]);\n                    DataService.setCurrentVisualTestReference(DataService.getCurrentVisualTest());\n                }\n                resolve(DataService.getCurrentHistory());\n\n            }).catch((err)=> {\n                console.warn('StateService.setCurrentHistory err', err);\n                reject(err);\n            });\n        });\n\n    }\n\n    setPreviousVisualTest() {\n        if(!_.isEmpty(DataService.getCurrentHistory().visualTests) && this._currentTestIndex !== 0){\n            this._currentTestIndex = this._currentTestIndex - 1;\n            DataService.setCurrentVisualTest(DataService.getCurrentHistory().visualTests[this._currentTestIndex]);\n            DataService.setCurrentVisualTestReference(DataService.getCurrentVisualTest());\n        }\n    }\n\n    setNextVisualTest() {\n        if(!_.isEmpty(DataService.getCurrentHistory().visualTests) &&\n            DataService.getCurrentHistory().visualTests.length !== this._currentTestIndex + 1 ){\n            this._currentTestIndex = this._currentTestIndex + 1;\n            DataService.setCurrentVisualTest(DataService.getCurrentHistory().visualTests[this._currentTestIndex]);\n            DataService.setCurrentVisualTestReference(DataService.getCurrentVisualTest());\n        }\n    }\n\n    approveCurrentTest() {\n        this.hideDetailsPanel();\n        return DataService.approveTest(DataService.getCurrentVisualTest()).then(()=> this.setNextVisualTest());\n    }\n\n    showDetailsPanel() {\n        DataService.setDetailsPanelVisibility(true);\n    }\n\n    hideDetailsPanel() {\n        DataService.setDetailsPanelVisibility(false);\n    }\n}\n\nmodule.exports = new StateService();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/service/state-service.js","import {Booleans} from './booleans';\nimport {Colors} from './colors';\nimport {Dates} from './dates';\nimport {Images} from './images';\nimport {Numbers} from './numbers';\nimport {Objects} from './objects';\nimport {Strings} from './strings';\n\n\n/**\n * A collection of the helpers classes: Strings, Booleans, Colors and Numbers\n * @example\n *  Helpers.Numbers.isNumber(0);\n *  // -> true\n *  Helpers.Strings.random(4);\n *  // -> af2d\n * @type {{Booleans: Booleans, Numbers: Numbers, Colors: Colors, Strings: Strings}}\n */\nlet Helpers = {\n    Booleans,\n    Colors,\n    Dates,\n    Images,\n    Numbers,\n    Objects,\n    Strings,\n};\n\nmodule.exports = Helpers;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/helpers.js","import _ from 'lodash';\nimport {Strings} from './helpers/helpers';\nimport ObservableSlim from 'observable-slim';\n\n/**\n * DataService handles shared data and methods between components\n * It observers shared data changes and notify changes to other components\n */\nexport default class AbstractDataService {\n\n    constructor() {\n\n        /**\n         *\n         * @type {function(this:AbstractDataService)}\n         * @private\n         */\n        this._handleObservingDataChanges = this._handleObservingDataChanges.bind(this);\n\n        /**\n         *\n         * @type {Object}\n         * @private\n         */\n        this._data = {};\n\n        /**\n         * Observers\n         * @type {Set}\n         * @private\n         */\n        this._observers = new Map();\n\n        /**\n         * Subscribers\n         * @type {Array}\n         * @private\n         */\n        this._subscribers = new Set();\n    }\n\n\n\n    /*---------------------------- public functions -------------------------*/\n    /**\n     * Subscribe changes\n     * @param keyPath\n     * @param handler\n     * @param instance\n     * @returns {{id: *, key: *, proxy: *, fn: *}}\n     */\n    subscribe(keyPath, handler, instance) {\n\n        if ( Object.is(keyPath, undefined) ) {\n            throw new Error('keyPath is required to subscribe data service');\n        }\n        if( Object.is(handler, undefined)) {\n            throw new Error('fn is required to subscribe data service');\n        }\n        const subscriber = {\n            instance: instance,\n            id: Strings.random(6),\n            keyPath: keyPath,\n            handler: handler,\n            proxy: this._createObservableProxy(keyPath),\n        };\n        this._subscribers.add(subscriber);\n        return subscriber;\n    }\n\n    /**\n     * Unsubscribe a subscriber\n     * @param subscriber\n     */\n    unsubscribe(subscriber) {\n        this._subscribers.delete(subscriber);\n    }\n\n    /**\n     * Unsubscribe all subscribers\n     */\n    unsubscribeAll() {\n        this._subscribers.clear();\n    }\n\n    /**\n     * Notify all subscribers data object changes\n     * Use it after loading the data from the server.\n     * @param {String} keyPath - key path of the this._data\n     * @param {Object} excluded - subscriber, excluded subscriber\n     * @example\n     * ```\n     * this._data.currentSite = {name: \"corporate\"};\n     * //subscribers listen to the currentSite changes\n     *\n     * this.broadcastDataChanges(\"currentSite\");\n     * //tell all subscribers \"currentSite\" which has changed\n     *\n     * ```\n     *\n     * An example `/src/components/style-guide/style-guide-service.js`\n     *\n     * @private\n     */\n    broadcastDataChanges(keyPath, excluded) {\n        let data = this._data[keyPath];\n\n        for (let subscriber of this._subscribers) {\n            if(Object.is(subscriber, undefined)) {\n                return;\n            }\n            if(Object.is(subscriber.keyPath, keyPath) && !Object.is(excluded, subscriber)) {\n                subscriber.handler(keyPath, data);\n            }\n        }\n    }\n    \n    /**\n     * Destroy this service\n     */\n    destroy() {\n        this.unsubscribeAll();\n        for (const prop in this) {\n            if(this.hasOwnProperty(prop)){\n                delete this[prop];\n            }\n        }\n    }\n\n    /*-------------------------- private functions -------------------------*/\n    /**\n     * Create subscriber proxy\n     * @param keyPath {String}\n     * @param handler\n     * @returns {*}\n     * @private\n     */\n    _createObservableProxy(keyPath , handler=this._handleObservingDataChanges) {\n        if(!this._observers.has(keyPath)) {\n            this._observers.set(keyPath, ObservableSlim.create(\n                this._data[keyPath], true, (changes)=> {\n                    handler(changes, keyPath);\n                }\n            ));\n        }\n        return this._observers.get(keyPath);\n    }\n\n    /**\n     * Subscriber proxy set handler\n     * @param changes\n     * @returns {boolean} - default true\n     * @private\n     * @override\n     */\n    _handleObservingDataChanges(changes, keyPath) {\n        this.broadcastDataChanges(keyPath);\n        return true;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/abstract-data-service.js","\nmodule.exports = {\n    imageViewerId: 'image-viewer',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/constant/constant.js","/**** Import all vendor scss here *******/\n//require('font-awesome/scss/font-awesome.scss');\n\n/**** Import app scss *******/\nrequire('./app.scss');\n\n\n// WEBPACK FOOTER //\n// ./styles/vendor-scss.js","if (module.hot) {\n    module.hot.accept();\n}\n\nif (process.env.NODE_ENV !== 'production') {\n    console.log('Looks like we are in development mode!');\n}\n\n//Define your routes here\nimport LandingPageView from './components/landing-page/landing-page-view';\nimport SplashPageView from '../src/components/splash-page/splash-page-view';\n\nm.route(document.body.querySelector('#root'), '/splash', {\n    '/splash': SplashPageView,\n    '/landing': LandingPageView,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import LandingPageModel from './landing-page-model';\nimport HistoryListMenuView from './../history-list-menu/history-list-menu-view';\nimport VisualResultContainerView from '../visual-result-container/visual-result-container-view';\n\nmodule.exports = class LandingPageView {\n\n    constructor(){\n        this.title = 'Landing page';\n    }\n\n    oninit(vnode) {\n        LandingPageModel.initState().then((results)=> {\n            vnode.state.histories = results;\n            m.redraw();\n        });\n    }\n\n    view(vnode) {\n        return m('.b-page.b-page--bg-dark', LandingPageModel.isReady() ? [\n            m('h1.sr-only', `${vnode.state.title}`),\n            m('.b-section-container', [\n                m('.grid.grid--flush',[\n                    m('.1/10 grid__cell', [m(HistoryListMenuView)]),\n                    m('.9/10 grid__cell', [m(VisualResultContainerView)]),\n                ]),\n            ]),\n        ]: []);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/landing-page/landing-page-view.js","import StateService from '../service/state-service';\nimport DataService from '../service/data-service';\n\nclass LandingPageModel {\n\n    constructor() {\n        this._isReady = false;\n    }\n\n    initState() {\n        return new Promise((resolve, reject)=> {\n            DataService.fetchHistoryList().then((results)=> {\n                StateService.setCurrentHistory(results[0]).then((history)=> {\n                    this._isReady = true;\n                    resolve(results);\n                });\n            });\n        });\n    }\n\n    isReady() {\n        return this._isReady;\n    }\n}\n\nmodule.exports = new LandingPageModel();\n\n\n// WEBPACK FOOTER //\n// ./components/landing-page/landing-page-model.js","import Booleans from './booleans';\n/**\n * Colors helper class\n */\nclass Colors {\n    /**\n     * Convert rgb color to rgba color with adding alpha channel\n     * @param {string} rgb - 'rgb(red, green, blue)' (e.g.: rgb(85,85,85))\n     * @param {number} alpha - [0 - 1], default is 1\n     * @returns {string} rgba - 'rgb(red, green, blue, alpha)' (e.g.: rgb(85,85,85, 1))\n     * @example\n     * rbg2rgba('rgb(85,85,85)', 0.5)\n     * //-> rgba(85,85,85, 0.5)\n     */\n    static rgb2rgba (rgb, alpha) {\n        let rgba;\n        if (!rgb) {\n            return null;\n        }\n        alpha = Booleans.isTruthyValue(alpha) ? alpha : 1;\n        rgba = rgb.replace(/rgb/i, 'rgba');\n        return rgba.replace(/\\)/i, `, ${alpha})`);\n    }\n\n    /**\n     * Covert hex code to rgb color, hex code supported formats: \"#FFF\", \"FFF\", \"#fff\", \"fff\", \"FFFFFF\", \"#FFFFFF\"\n     * @param {string} hex - hex code\n     * @returns {String|null} - return rgb color if it is valid, else null\n     * @example\n     * hex2rgb(\"#FFF000\") result \"rgb(255,240,0)\"\n     */\n    static hex2rgb (hex) {\n        if(!hex){\n            return null;\n        }\n        var result, shorthandRegex;\n        shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.toString().replace(shorthandRegex, function(m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n        result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        if (result) {\n            return `gb(${parseInt(result[1], 16)},${parseInt(result[2], 16)}, ${parseInt(result[3], 16)})`;\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Covert hex code to rgb color object, hex code supported formats: \"#FFF\", \"FFF\", \"#fff\", \"fff\", \"FFFFFF\", \"#FFFFFF\"\n     * @param {string} hex - hex code\n     * @returns {String|null} - return rgb color if it is valid, else null\n     * @example\n     * hex2rgb(\"#FFF000\") result \"{ r:255, g:240, b:0 }\"\n     */\n    static hex2rgbObj(hex) {\n        if(!hex){\n            return null;\n        }\n        let result, shorthandRegex;\n        shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.toString().replace(shorthandRegex, function(m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n        result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        if (result) {\n            return {\n                r: parseInt(result[1], 16),\n                g: parseInt(result[2], 16),\n                b: parseInt(result[3], 16),\n            };\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Convert rgb color to hex code\n     * @param {!number} r - rgb color red\n     * @param {!number} g - rgb color green\n     * @param {!number} b - rgb color blue\n     * @returns {string} - hex code\n     * @example\n     * rgb2hex(175,210,80);\n     * // -> \"#afd250\"\n     */\n    static rgb2hex (r, g, b) {\n        if(!r || !g || !b) {\n            return null;\n        }\n        if( r > 255 || g > 255 || b > 255) {\n            return null;\n        }\n        if( r < 0 || g < 0 || b < 0) {\n            return null;\n        }\n        let componentToHex;\n        componentToHex = function(c) {\n            let hex;\n            hex = c.toString(16);\n            if (hex.length === 1) {\n                return '0' + hex;\n            } else {\n                return hex;\n            }\n        };\n        return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\n    }\n\n    /**\n     * Change color luminance\n     * @param {string} hex - hex code (e.g. \"#afd250\")\n     * @param {number} lum - [-1 ~ 1]\n     * @returns {string} - new hex code\n     */\n    static colorLuminance (hex, lum) {\n        if(!this.hex2rgb(hex) || lum > 1 || lum < -1){\n            return null;\n        }\n        let c, i, j, rgb = '#';\n        hex = String(hex).replace(/[^0-9a-f]/gi, '');\n        if (hex.length < 6) {\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n        }\n        lum = lum || 0;\n        for (i = j = 0; j <= 2; i = j += 1) {\n            c = parseInt(hex.substr(i * 2, 2), 16);\n            c = Math.round(Math.min(Math.max(0, c + (c * lum)), 255)).toString(16);\n            rgb += ('00' + c).substr(c.length);\n        }\n        return rgb;\n    }\n\n}\n\nexport {Colors};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/colors.js","import moment from 'moment';\nimport _ from 'lodash';\n\n/**\n *\n * The main purpose for this Dates class is to make sure the corporate website has the standard date format across the whole site.\n *\n * TODO mocha Test\n */\nclass Dates {\n\n    static getDateUTCFormat(candidate) {\n        return moment.utc(candidate)._f;\n    }\n\n    /**\n     * Get current year\n     * return {number} - current year, e.g. 2017\n     */\n    static getCurrentYear() {\n        return new Date().getFullYear();\n    }\n\n\n    /**\n     * Get in a day, e.g. 10am, 5pm\n     * @param candidate {Date} - date\n     * @returns {string} hour in a day, e.g. 10am, 5pm\n     */\n    static getHour(candidate) {\n        if(_.includes(this.getDateUTCFormat(candidate), 'HH') ) {\n            return moment(candidate).format('ha');\n        } else {\n            return '';\n        }\n    }\n\n    /**\n     * Get in a day, e.g. 10:45am, 5:32pm\n     * Note: 9:00am will be 9am\n     * @param candidate {Date} - date\n     * @returns {string} minute in a day, e.g. 10am, 5pm\n     */\n    static getHourMinute(candidate) {\n        if(_.includes(this.getDateUTCFormat(candidate), 'HH:mm')) {\n            return moment(candidate).format('h.mma').replace('.00', '');\n        } else {\n            return '';\n        }\n    }\n\n    /**\n     * Get corporate website standard date, e.g. 14 November 2016, time format will be YYYY-MM-DDTHH:mm:ss\n     * @param candidate {Date} - date\n     * @returns {string} - date string e.g. 12 November 2016\n     */\n    static getDate(candidate) {\n        return `${moment(candidate).format('D')} ${moment(candidate).format('MMMM')} ${moment(candidate).format('YYYY')}` ;\n    }\n\n    /**\n     * Get hour and date\n     * @param candidate {Date} - date\n     * @returns {string} - date string e.g. 10am, 14 November 2016\n     */\n    static getHourAndDate(candidate) {\n        if( _.isEmpty(this.getHour(candidate)) ){\n            return this.getDate(candidate);\n        }\n        return `${this.getHour(candidate)}, ${this.getDate(candidate)}`;\n    }\n\n    /**\n     * Get hour, minutes and date\n     * @param candidate {Date} - date\n     * @returns {string} - date string e.g. 10:45am, 14 November 2016\n     */\n    static getHourMinuteAndDate(candidate) {\n        if( _.isEmpty(this.getHour(candidate)) ){\n            return this.getDate(candidate);\n        }\n        return `${this.getHourMinute(candidate)}, ${this.getDate(candidate)}`;\n    }\n}\n\nexport {Dates};\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/dates.js","/**\n * Images helper class\n */\nclass Images {\n\n    /**\n     * get image ratio: width / height\n     * @param {Object} data - loaded image data object\n     */\n    static getRatio(data) {\n        return data.width / data.height;\n    }\n\n    /**\n     * fixed width, auto height\n     * @param {Object} data - image data object\n     * @param {Object} container - dom element\n     * @param {Boolean} isOriginal - is original image data or not\n     */\n    static getImageCenterParams(data, container, isOriginal=false) {\n        let originParams = data.originParams;\n        if(isOriginal){\n            originParams = {\n                width: data.width,\n                height: data.height,\n                ratio: Images.getRatio(data),\n            };\n        }\n\n        let result = {\n            originParams: originParams,\n            ratio: originParams.ratio || Images.getRatio(data),\n            width: originParams.width || data.width,\n            height: originParams.height || data.height,\n            positionX: 0,\n            positionY: 0,\n        };\n        let containerWidth = container.offsetWidth;\n\n        if(result.width > containerWidth){\n            result.width = containerWidth;\n            result.height = result.width / result.ratio;\n        } else {\n            result.positionX = (containerWidth - data.width) / 2;\n        }\n\n        return result;\n    }\n}\n\nexport {Images};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/images.js","\n/**\n * Numbers helper class\n */\nclass Numbers {\n    /**\n     * Check if the variable is a valid negative or positive number or not,\n     * @see http://stackoverflow.com/questions/5515310/is-there-a-standard-function-to-check-for-null-undefined-or-blank-variables-in\n     * @param {Number|*} val - value to test, support string type number like \"123\"\n     * @returns {boolean} true if the value is a number, else false\n     */\n    static isNumber (val) {\n        return ( !isNaN(parseFloat(val))) && isFinite(val);\n    }\n\n    /**\n     * Strip non-numeric characters from string\n     * @param {string} val - non-numeric characters string, for example: '<span>123.8</span>'\n     * @returns {Float} 10 bit digital positive or negative float point number\n     * @see http://stackoverflow.com/questions/1862130/strip-non-numeric-characters-from-string\n     */\n    static stripNonNumericCharacters(val) {\n        return parseFloat(val.toString().replace(/[^\\d.-]/g, ''), 10);\n    }\n}\n\nexport {Numbers};\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/numbers.js","import _ from 'lodash';\n\nclass Objects {\n\n    /**\n     * Filter properties of the candidate object, remain the properties if the target instance has the property\n     * @param candidate {!Object} - candidate object\n     * @param target {!Object} - mapping target instance\n     * @returns {undefined|Object} - result a new object\n     */\n    static filterObjectProperties(candidate, target) {\n        let result = {};\n\n        if(_.isUndefined(candidate) || _.isUndefined(target)){\n            return undefined;\n        }\n\n        if(!_.isObject(candidate)){\n            console.warn('invalid object to convert: ', candidate);\n            return undefined;\n        }\n        _.forOwn(candidate, (value, key)=> {\n            if(target.hasOwnProperty(key)){\n                result[key] = value;\n            }\n        });\n\n        return result;\n    }\n\n    /**\n     * Empty an object properties\n     * @param {Object} candidate - candidate object\n     */\n    static empty(candidate) {\n        for (const key in candidate) {\n            if(candidate.hasOwnProperty(key)){\n                delete candidate[key];\n            }\n        }\n        return candidate;\n    }\n\n    /**\n     * Make enum object\n     * @reference: https://github.com/gergob/jsProxy/blob/master/03-enum-nameof.js\n     * @param name\n     * @param values\n     * @returns {*}\n     */\n    static makeEnum(name, values) {\n        function nameOf(value) {\n            let keys = Object.keys(values);\n            for (let index = 0; index < keys.length; index += 1) {\n                let key = keys[index];\n                if (values[key] === value) {\n                    return `${name}.${key}`;\n                }\n            }\n        }\n        const handler = {\n            set (obj, prop, value) {\n                throw new TypeError('Enum is read only');\n            },\n            get (obj, prop) {\n                if (prop === 'nameOf') {\n                    return nameOf.bind(obj);\n                }\n                if (!(prop in obj)) {\n                    throw new ReferenceError(`Unknown enum key \"${prop}\"`);\n                }\n                return Reflect.get(obj, prop);\n            },\n            deleteProperty (obj, prop) {\n                throw new TypeError('Enum is read only');\n            },\n        };\n        return new Proxy(values, handler);\n    }\n    \n}\n\nexport {Objects};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/objects.js","\n/**\n * Strings Class\n */\nclass Strings {\n    /**\n     * Generate a random string, default is the maximum 12 characters. The toString method of a number type\n     * in javascript takes an optional parameter to convert the number into a given base. Similar to hex\n     * (base 16), base 36 uses letters to represent digits beyond 9.\n     * @see http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\n     * @param {number} length - The length of the random string\n     * @returns {string} - The random string , default is 12 length\n     */\n    static random(length) {\n        return Math.random().toString(36).substr(2, ( length && length <=12 ) ? length : 12);\n    }\n\n    /**\n     * A more sophisticated solution/library for shortening strings\n     * @see http://stackoverflow.com/questions/1199352/smart-way-to-shorten-long-strings-with-javascript\n     * @param str {string} - candidate content\n     * @param n {number} - length of the string\n     * @param useWordBoundary {boolean} - default true for using word boundary, else false\n     * @returns {*}\n     */\n    static truncate( str, n, useWordBoundary = true ) {\n        var isTooLong = str.length > n,\n            s_ = isTooLong ? str.substr(0,n-1) : str;\n        s_ = (useWordBoundary && isTooLong) ? s_.substr(0,s_.lastIndexOf(' ')) : s_;\n        return  isTooLong ? s_ + '...' : s_;\n    }\n\n    /**\n     * Remove empty tags\n     */\n    static removeEmptyHtmlTags(str, includedStr) {\n        return str.replace(includedStr, '').replace(/(<(?!\\/)[^>]+>)+(<\\/[^>]+>)/gm, '');\n    }\n\n    /**\n     * remove line breaks, and br tags\n     * @param str\n     * @returns {*}\n     */\n    static removeLineBreaks(str){\n        return str.replace(/\\r?\\n|\\r|&lt;br&gt;|<br>|<br\\/>/g, '');\n    }\n\n    /**\n     * Get audio/video time string from seconds\n     * @param secs {Number} - seconds \n     * @returns {string} - time string\n     * @example 100 seconds - 1 min 40 sec\n     */\n    static getMediaTimeStringFromSeconds(secs=0) {\n        var seconds = parseInt(secs);\n        var hours = Math.floor(secs / (60 * 60));\n        seconds = seconds - (hours * (60 * 60));\n        var minutes = Math.floor(seconds / 60);\n        seconds = seconds - (minutes * 60);\n\n        var timeString = '';\n        if(hours > 0) {\n            timeString = timeString + hours + ' hour ';\n        }\n        if(minutes > 0) {\n            timeString = timeString + minutes + ' min ';\n        }\n        timeString = timeString + seconds + ' sec';\n\n        return timeString;\n    }\n\n    /**\n     * Uppercase the first character\n     * @param input\n     * @returns {string}\n     */\n    static upperCaseFirstChar(input) {\n        return input.substring(0, 1).toUpperCase() + input.substring(1);\n    }\n\n    static md5(string) {\n        var MD5 = function (d) {\n            let result = M(V(Y(X(d), 8 * d.length)));\n            return result.toLowerCase();\n        };\n\n        function M(d) {\n            for (var _, m = '0123456789ABCDEF', f = '', r = 0; r < d.length; r++) _ = d.charCodeAt(r), f += m.charAt(_ >>> 4 & 15) + m.charAt(15 & _);\n            return f;\n        }\n\n        function X(d) {\n            for (var _ = Array(d.length >> 2), m = 0; m < _.length; m++) _[m] = 0;\n            for (m = 0; m < 8 * d.length; m += 8) _[m >> 5] |= (255 & d.charCodeAt(m / 8)) << m % 32;\n            return _;\n        }\n\n        function V(d) {\n            for (var _ = '', m = 0; m < 32 * d.length; m += 8) _ += String.fromCharCode(d[m >> 5] >>> m % 32 & 255);\n            return _;\n        }\n\n        function Y(d, _) {\n            d[_ >> 5] |= 128 << _ % 32, d[14 + (_ + 64 >>> 9 << 4)] = _;\n            for (var m = 1732584193, f = -271733879, r = -1732584194, i = 271733878, n = 0; n < d.length; n += 16) {\n                var h = m, t = f, g = r, e = i;\n                f = md5_ii(f = md5_ii(f = md5_ii(f = md5_ii(f = md5_hh(f = md5_hh(f = md5_hh(f = md5_hh(f = md5_gg(f = md5_gg(f = md5_gg(f = md5_gg(f = md5_ff(f = md5_ff(f = md5_ff(f = md5_ff(f, r = md5_ff(r, i = md5_ff(i, m = md5_ff(m, f, r, i, d[n + 0], 7, -680876936), f, r, d[n + 1], 12, -389564586), m, f, d[n + 2], 17, 606105819), i, m, d[n + 3], 22, -1044525330), r = md5_ff(r, i = md5_ff(i, m = md5_ff(m, f, r, i, d[n + 4], 7, -176418897), f, r, d[n + 5], 12, 1200080426), m, f, d[n + 6], 17, -1473231341), i, m, d[n + 7], 22, -45705983), r = md5_ff(r, i = md5_ff(i, m = md5_ff(m, f, r, i, d[n + 8], 7, 1770035416), f, r, d[n + 9], 12, -1958414417), m, f, d[n + 10], 17, -42063), i, m, d[n + 11], 22, -1990404162), r = md5_ff(r, i = md5_ff(i, m = md5_ff(m, f, r, i, d[n + 12], 7, 1804603682), f, r, d[n + 13], 12, -40341101), m, f, d[n + 14], 17, -1502002290), i, m, d[n + 15], 22, 1236535329), r = md5_gg(r, i = md5_gg(i, m = md5_gg(m, f, r, i, d[n + 1], 5, -165796510), f, r, d[n + 6], 9, -1069501632), m, f, d[n + 11], 14, 643717713), i, m, d[n + 0], 20, -373897302), r = md5_gg(r, i = md5_gg(i, m = md5_gg(m, f, r, i, d[n + 5], 5, -701558691), f, r, d[n + 10], 9, 38016083), m, f, d[n + 15], 14, -660478335), i, m, d[n + 4], 20, -405537848), r = md5_gg(r, i = md5_gg(i, m = md5_gg(m, f, r, i, d[n + 9], 5, 568446438), f, r, d[n + 14], 9, -1019803690), m, f, d[n + 3], 14, -187363961), i, m, d[n + 8], 20, 1163531501), r = md5_gg(r, i = md5_gg(i, m = md5_gg(m, f, r, i, d[n + 13], 5, -1444681467), f, r, d[n + 2], 9, -51403784), m, f, d[n + 7], 14, 1735328473), i, m, d[n + 12], 20, -1926607734), r = md5_hh(r, i = md5_hh(i, m = md5_hh(m, f, r, i, d[n + 5], 4, -378558), f, r, d[n + 8], 11, -2022574463), m, f, d[n + 11], 16, 1839030562), i, m, d[n + 14], 23, -35309556), r = md5_hh(r, i = md5_hh(i, m = md5_hh(m, f, r, i, d[n + 1], 4, -1530992060), f, r, d[n + 4], 11, 1272893353), m, f, d[n + 7], 16, -155497632), i, m, d[n + 10], 23, -1094730640), r = md5_hh(r, i = md5_hh(i, m = md5_hh(m, f, r, i, d[n + 13], 4, 681279174), f, r, d[n + 0], 11, -358537222), m, f, d[n + 3], 16, -722521979), i, m, d[n + 6], 23, 76029189), r = md5_hh(r, i = md5_hh(i, m = md5_hh(m, f, r, i, d[n + 9], 4, -640364487), f, r, d[n + 12], 11, -421815835), m, f, d[n + 15], 16, 530742520), i, m, d[n + 2], 23, -995338651), r = md5_ii(r, i = md5_ii(i, m = md5_ii(m, f, r, i, d[n + 0], 6, -198630844), f, r, d[n + 7], 10, 1126891415), m, f, d[n + 14], 15, -1416354905), i, m, d[n + 5], 21, -57434055), r = md5_ii(r, i = md5_ii(i, m = md5_ii(m, f, r, i, d[n + 12], 6, 1700485571), f, r, d[n + 3], 10, -1894986606), m, f, d[n + 10], 15, -1051523), i, m, d[n + 1], 21, -2054922799), r = md5_ii(r, i = md5_ii(i, m = md5_ii(m, f, r, i, d[n + 8], 6, 1873313359), f, r, d[n + 15], 10, -30611744), m, f, d[n + 6], 15, -1560198380), i, m, d[n + 13], 21, 1309151649), r = md5_ii(r, i = md5_ii(i, m = md5_ii(m, f, r, i, d[n + 4], 6, -145523070), f, r, d[n + 11], 10, -1120210379), m, f, d[n + 2], 15, 718787259), i, m, d[n + 9], 21, -343485551), m = safe_add(m, h), f = safe_add(f, t), r = safe_add(r, g), i = safe_add(i, e)\n            }\n            return Array(m, f, r, i);\n        }\n\n        function md5_cmn(d, _, m, f, r, i) {\n            return safe_add(bit_rol(safe_add(safe_add(_, d), safe_add(f, i)), r), m);\n        }\n\n        function md5_ff(d, _, m, f, r, i, n) {\n            return md5_cmn(_ & m | ~_ & f, d, _, r, i, n);\n        }\n\n        function md5_gg(d, _, m, f, r, i, n) {\n            return md5_cmn(_ & f | m & ~f, d, _, r, i, n);\n        }\n\n        function md5_hh(d, _, m, f, r, i, n) {\n            return md5_cmn(_ ^ m ^ f, d, _, r, i, n);\n        }\n\n        function md5_ii(d, _, m, f, r, i, n) {\n            return md5_cmn(m ^ (_ | ~f), d, _, r, i, n);\n        }\n\n        function safe_add(d, _) {\n            var m = (65535 & d) + (65535 & _);\n            return (d >> 16) + (_ >> 16) + (m >> 16) << 16 | 65535 & m;\n        }\n\n        function bit_rol(d, _) {\n            return d << _ | d >>> 32 - _;\n        }\n\n        return MD5(string);\n\n    }\n}\n\nexport {Strings};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/strings.js","module.exports = {\n    apiRootPath: 'http://localhost:7070',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./config.js","import {History} from './history';\nimport {Visual} from './visual';\n\n/**\n */\nlet ComponentHelpers = {\n    History,\n    Visual,\n};\n\nmodule.exports = ComponentHelpers;\n\n\n\n// WEBPACK FOOTER //\n// ./components/component-helpers/component-helpers.js","import _ from 'lodash';\n\n/**\n * History helper class\n */\nclass History {\n\n    static sortHistory (histories) {\n        return _.orderBy(histories, ['weight'],['desc']);\n    }\n\n}\n\nexport {History};\n\n\n// WEBPACK FOOTER //\n// ./components/component-helpers/history.js","import _ from 'lodash';\n\n/**\n * Visual helper class\n */\nclass Visual {\n\n    static sortTestResults (tests) {\n        return _.sortBy(tests, ['pass']);\n    }\n\n    static findTestReference(test, references) {\n        return references.find((reference)=> Object.is(reference.visualScreenshot, test.visualScreenshot));\n    }\n}\n\nexport {Visual};\n\n\n// WEBPACK FOOTER //\n// ./components/component-helpers/visual.js","import {Dates} from './../../lib/helpers/helpers';\nimport HistoryListMenuModel from './history-list-menu-model';\n\nmodule.exports = class HistoryListMenuView {\n\n    constructor(){\n        this.title = 'History List view';\n        this.histories = [];\n    }\n\n    oninit(vnode){\n        console.log('HistoryListView init');\n        HistoryListMenuModel.getHistoryList().then((results)=> {\n            vnode.state.histories = results;\n            m.redraw();\n        });\n    }\n\n    view(vnode) {\n        return m('div.b-history-list-menu', [\n            m('h2.sr-only', `${vnode.state.title}`),\n            m('ul.b-item-list', vnode.state.histories.map((history) => {\n                return m(`li..b-history-list-menu__item.b-item-list__item${(history.visualFailedTotal > 0) && '.b-history-list-menu__item--failed'}`, [\n                    m('a.b-link.b-link--block.b-box.b-box--padding-brick-sm.b-text.b-text--label[href=javascript:void(0);]',\n                        {\n                            onclick() {\n                                HistoryListMenuModel.setCurrentHistory(history);\n                            },\n                        },\n                        [\n                            m('span.b-text.b-text--uppercase', `${history.server}`),\n                            m('span.sr-only', ` | ${history.visualFailedTotal}`),\n                        ]\n                    ),\n                ]);}\n            )),\n        ]);\n    }\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/history-list-menu/history-list-menu-view.js","import StateService from '../service/state-service';\nimport DataService from '../service/data-service';\n\nclass HistoryListMenuModel {\n\n    constructor() {\n\n    }\n\n    getHistoryList() {\n        return DataService.fetchHistoryList();\n    }\n\n    setCurrentHistory(history) {\n        return StateService.setCurrentHistory(history);\n    }\n}\n\nmodule.exports = new HistoryListMenuModel();\n\n\n// WEBPACK FOOTER //\n// ./components/history-list-menu/history-list-menu-model.js","import VisualResultContainerModel from './visual-result-container-model';\nimport VisualComparePanelView from './../visual-compare-panel/visual-compare-panel-view';\nimport VisualNavigationMapView from './../visual-navigation-map/visual-navigation-map-view';\nimport DetailsPanelView from './../details-panel/details-panel-view';\nimport VisualSlideNext from './../visual-slide-next/visual-slide-next-view';\nimport VisualSlidePrev from './../visual-slide-prev/visual-slide-prev-view';\nimport ControlMenuView from './../control-menu/control-menu-view';\n\nmodule.exports = class VisualResultContainer {\n\n    constructor(){\n        this.title = 'VisualResultContainer';\n    }\n\n    view(vnode) {\n        return m('.b-visual-result-container.grid.grid--flush', [\n            m('.4/5.grid__cell.b-overlay__container', [\n                m('h2.sr-only', `${vnode.state.title}`),\n                VisualResultContainerModel.isDetailsPanelVisible() &&\n                m('.b-overlay__cover.b-visual-result-container__details-container', [\n                    m(DetailsPanelView),\n                ]),\n                m(VisualComparePanelView),\n            ]),\n            m('.1/5.grid__cell', [\n                m('.b-box--padding-left-md-llg.b-box--padding-right-md-llg', [\n                    m('.b-visual-result-container__nav-map.b-box--padding-top-base.b-box--margin-bottom-base', [\n                        m(VisualNavigationMapView),\n                    ]),\n                    m('.b-visual-result-container__button-group', [\n                        m(ControlMenuView),\n                        m(VisualSlidePrev),\n                        m(VisualSlideNext),\n                    ]),\n                ]),\n            ]),\n\n        ]);\n    }\n\n    onupdate() {\n        console.log('onupdate VisualResultContainer');\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-result-container/visual-result-container-view.js","import StateService from './../service/state-service';\nimport DataService from './../service/data-service';\n\nclass VisualResultContainerModel {\n\n    isDetailsPanelVisible() {\n        return DataService.isDetailsPanelVisible();\n    }\n\n}\n\nmodule.exports = new VisualResultContainerModel();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-result-container/visual-result-container-model.js","import VisualComparePanelModel from './visual-compare-panel-model';\n\nmodule.exports = class VisualComparePanelView {\n\n    constructor(){\n        this.title = 'VisualComparePanelView';\n    }\n\n    oncreate() {\n        VisualComparePanelModel.createImageViewer();\n    }\n\n    view(vnode) {\n        return m('div.b-visual-compare-panel', [\n            m('h3.sr-only', `${vnode.state.title}`),\n            m('.b-visual-compare-panel__image-viewer-container', {\n                id: VisualComparePanelModel.getImageViewerId(),\n            }),\n\n        ]);\n    }\n\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-compare-panel/visual-compare-panel-view.js","import StateService from '../service/state-service';\nimport DataService from '../service/data-service';\nimport Constant from './../constant/constant';\nimport ImageViewer from './../image-viewer/image-viewer';\n\nclass VisualComparePanelModel {\n\n    constructor() {\n\n    }\n\n    getImageViewerId () {\n        return Constant.imageViewerId;\n    }\n\n    createImageViewer() {\n        if(this._imageViewer){\n            return this._imageViewer;\n        }\n        this._imageViewer = new ImageViewer();\n    }\n\n}\n\nmodule.exports = new VisualComparePanelModel();\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-compare-panel/visual-compare-panel-model.js","import * as PIXI from 'pixi.js';\n\nimport ImageViewerService from './service/image-viewer-service';\nimport ImageViewerHelper from './image-viewer-helper';\n\nimport Component from './component';\nimport TestScreenshot from './test-screenshot/test-screenshot';\nimport ReferenceScreenshot from './reference-screenshot/reference-screenshot';\nimport SwipeBar from './swipe-bar/swipe-bar';\n\nconst BACKGROUND_COLOUR = '0x363636';\n\n//Global config\nPIXI.utils.skipHello();\n\nclass ImageViewer extends Component{\n\n    constructor() {\n        super();\n        this._children = {};\n        this._element = new PIXI.Application({\n            autoResize: true,\n            antialias: true,\n            backgroundColor: BACKGROUND_COLOUR,\n            width:  ImageViewerHelper.getContainer().clientWidth,\n            height: ImageViewerHelper.getBodyHeight(),\n        });\n\n        this._loadComponents();\n\n        ImageViewerHelper.getContainer().appendChild(this._element.view);\n        ImageViewerService.subscribe('testScreenshot', this.handleScreenshotChange, 'TestScreenshot');\n        ImageViewerService.subscribe('referenceScreenshot', this.handleScreenshotChange, 'ReferenceScreenshot');\n        window.addEventListener('resize', this.resize);\n        this.resize();\n\n    }\n\n    _loadComponents() {\n        this._children.testScreenshot = new TestScreenshot();\n        this._children.referenceScreenshot = new ReferenceScreenshot();\n        this._children.swipeBar = new SwipeBar();\n\n        //The loading sequence is from bottom to top\n        this._element.stage.addChild(this._children.testScreenshot.getElement());\n        this._element.stage.addChild(this._children.referenceScreenshot.getElement());\n        this._element.stage.addChild(this._children.swipeBar.getElement());\n    }\n\n    handleScreenshotChange() {\n        this.resize();\n    }\n    \n    getContainerHeight() {\n        return Math.max(\n            ImageViewerHelper.getBodyHeight(),\n            this._children.testScreenshot.getElement().height,\n            this._children.referenceScreenshot.getElement().height\n        );\n    }\n\n    resize(){\n        this._element.renderer.resize(\n            ImageViewerHelper.getContainer().clientWidth,\n            this.getContainerHeight()\n        );\n    }\n\n}\n\nmodule.exports = ImageViewer;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/image-viewer.js","import * as PIXI from 'pixi.js';\nimport _ from 'lodash';\nimport AbstractDataService from './../../../lib/abstract-data-service';\nimport DataService from './../../service/data-service';\nimport {Strings, Objects} from './../../../lib/helpers/helpers';\n\n/**\n * Image viewer service\n */\n\nconst FLAG_RESET = 0;\nconst FLAG_VISUAL_TEST_UPDATE = 1;\nconst FLAG_VISUAL_TEST_REFERENCE_UPDATE = 2;\nconst FLAG_READY_UPDATE = 3;\nconst FLAG_LOADING = 4;\nconst FLAG_LOADED = 7;\n\nclass ImageViewerService extends AbstractDataService {\n\n    constructor() {\n        super();\n\n        this.handleCurrentTestUpdate = this.handleCurrentTestUpdate.bind(this);\n        this.handleCurrentTestReferenceUpdate = this.handleCurrentTestReferenceUpdate.bind(this);\n        this.handleImagesLoaded = this.handleImagesLoaded.bind(this);\n\n        this._data = {\n            testScreenshotId: '',\n            referenceScreenshotId: '',\n            swipeBarPosition: {},\n            testScreenshot: {},\n            referenceScreenshot: {},\n        };\n\n        this._currentState = FLAG_RESET;\n\n        DataService.subscribe('currentVisualTest', this.handleCurrentTestUpdate, 'imageViewerStateService');\n        DataService.subscribe('currentVisualReference', this.handleCurrentTestReferenceUpdate, 'imageViewerStateService');\n    }\n\n    handleCurrentTestUpdate(keyPath, data){\n        this._updateStateFlag(FLAG_VISUAL_TEST_UPDATE);\n    }\n\n    handleCurrentTestReferenceUpdate(keyPath, data) {\n        this._updateStateFlag(FLAG_VISUAL_TEST_REFERENCE_UPDATE);\n    }\n\n    showCurrentResult() {\n        this._currentState = FLAG_LOADING;\n        this._getNewScreenshotIds();\n        PIXI.loader.destroy();\n        PIXI.loader\n            .add(this._data.testScreenshotId, this.getVisualTestImage())\n            .add(this._data.referenceScreenshotId, this.getVisualTestReferenceImage())\n            .load(this.handleImagesLoaded);\n    }\n\n    setSwipeBarPosition(position) {\n        this._data.swipeBarPosition.x = position.x;\n        this.broadcastDataChanges('swipeBarPosition');\n    }\n\n    getVisualTestImage() {\n        return `${DataService.getAssetRootPath()}${DataService.getCurrentVisualTest().visualScreenshotPath}`;\n    }\n\n    getVisualTestReferenceImage() {\n        return`${DataService.getAssetRootPath()}${DataService.getCurrentVisualTestReference().visualScreenshotPath}`;\n    }\n\n    handleImagesLoaded(loader, resources) {\n        this._updateStateFlag(FLAG_LOADED);\n\n        Objects.empty(this._data.testScreenshot);\n        Objects.empty(this._data.referenceScreenshot);\n\n        Object.assign(this._data.testScreenshot, resources[this._data.testScreenshotId]);\n        Object.assign(this._data.referenceScreenshot, resources[this._data.referenceScreenshotId]);\n\n        this.broadcastDataChanges('testScreenshot');\n        this.broadcastDataChanges('referenceScreenshot');\n\n    }\n\n\n    /*---------------------------- Helpers -----------------------*/\n    _updateStateFlag(flag) {\n        if(flag === FLAG_LOADED || this._currentState === FLAG_LOADED) {\n            this._currentState = flag;\n            return;\n        }\n\n        if(flag < FLAG_READY_UPDATE && this._currentState > FLAG_READY_UPDATE){\n            this._currentState = FLAG_RESET;\n        }\n\n        this._currentState += flag;\n\n        if(this._currentState === FLAG_READY_UPDATE) {\n            this.showCurrentResult();\n            return;\n        }\n\n    }\n\n    _getNewScreenshotIds() {\n        this._data.testScreenshotId = Strings.random(8);\n        this._data.referenceScreenshotId = Strings.random(8);\n    }\n\n\n}\n\nmodule.exports = new ImageViewerService();\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/service/image-viewer-service.js","import Constant from './../constant/constant';\n\n/**\n * Images helper class\n */\nclass ImageViewerHelper {\n\n    static getContainer() {\n        return document.getElementById(Constant.imageViewerId);\n    }\n\n    static getBodyHeight() {\n        return document.body.clientHeight;\n    }\n\n}\n\nmodule.exports = ImageViewerHelper;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/image-viewer-helper.js","import * as PIXI from 'pixi.js';\nimport {Strings} from './../../lib/helpers/helpers';\n\nexport default class Component {\n\n    constructor(options) {\n        this._id = Strings.random(8);\n        this._options = options;\n        this._element = undefined;\n        this._bindThisToHandlers();\n\n        return this._element;\n    }\n\n\n    getOptions() {\n        return this._options;\n    }\n\n    getElement() {\n        return this._element;\n    }\n\n    destroy() {\n        this._element.destroy();\n    }\n\n\n\n    /*------------------------------- Helpers -------------------------------- */\n    /**\n     * Bind this to public functions\n     * @private\n     */\n    _bindThisToHandlers() {\n        for (let name of Object.getOwnPropertyNames(Object.getPrototypeOf(this))) {\n            let method = this[name];\n            // Supposedly you'd like to skip constructor\n            if (!(method instanceof Function) || method === this || !this._validateHandlerProperty(name)) {\n                continue;\n            }\n            this[name] = this[name].bind(this);\n        }\n    }\n\n    /**\n     * Helper to exclude functions from view handlers\n     * @param property\n     * @returns {boolean}\n     * @private\n     */\n    _validateHandlerProperty(property) {\n        let excludedNames = ['on', 'off'];\n        return !(property.startsWith('_') ||\n            (typeof this[property] !== 'function') ||\n            !Object.is(excludedNames.find((name)=>{return name === property;}), undefined));\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/component.js","import * as PIXI from 'pixi.js';\nimport {Images, Strings} from './../../../lib/helpers/helpers';\nimport ImageViewerHelper from './../image-viewer-helper';\nimport ImageViewerService from './../service/image-viewer-service';\nimport Component from './../component';\n\nclass TestScreenshot extends Component{\n\n    constructor(options={id:Strings.random(8)}) {\n        super();\n        this._options = options;\n        this._element = new PIXI.Container();\n        this._screenshot = undefined;\n        ImageViewerService.subscribe('testScreenshot', this.handleScreenshotChange, 'TestScreenshot');\n        window.addEventListener('resize', this.resize);\n    }\n\n    handleScreenshotChange(ketPath, img){\n        if(this._screenshot){\n            this._element.removeChild(this._screenshot);\n            this._screenshot.destroy();\n        }\n        this._screenshot = new PIXI.Sprite(img.texture);\n        this._options = Object.assign(this._options, Images.getImageCenterParams(img.data, ImageViewerHelper.getContainer(), true));\n        this._element.addChild(this._screenshot);\n        this.resize();\n    }\n\n    resize() {\n        if(!this._screenshot){\n            return;\n        }\n        this._options = Object.assign(this._options, Images.getImageCenterParams(this._options, ImageViewerHelper.getContainer()));\n        this._element.width = this._options.width;\n        this._element.height = this._options.height;\n        this._element.position.x = this._options.positionX;\n        this._element.position.y = this._options.positionY;\n    }\n\n\n}\n\nmodule.exports = TestScreenshot;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/test-screenshot/test-screenshot.js","import * as PIXI from 'pixi.js';\nimport {Images, Strings} from './../../../lib/helpers/helpers';\nimport ImageViewerHelper from './../image-viewer-helper';\nimport ImageViewerService from './../service/image-viewer-service';\nimport Component from './../component';\n\n\nconst MASK_COLOUR = 0x8bc5ff;\nconst MASK_ALPHA = 1;\n\nclass ReferenceScreenshot extends Component{\n\n    constructor(options={\n        id:Strings.random(8),\n        subscribeKey: 'testScreenshot',\n        isReference: false,\n    }) {\n        super();\n        this._options = options;\n        this._element = new PIXI.Container();\n        this._screenshot = undefined;\n        this._mask = undefined;\n        this.createMask();\n\n        ImageViewerService.subscribe('referenceScreenshot', this.handleScreenshotChange, 'ReferenceScreenshot');\n        this._swipeBarPositionSubscriber = ImageViewerService.subscribe('swipeBarPosition', this.handleSwipeBarPositionChange, 'ReferenceScreenshot');\n        window.addEventListener('resize', this.resize);\n    }\n\n    createMask() {\n        this._mask = new PIXI.Graphics();\n\n        // set a fill and line style\n        this._mask.beginFill(MASK_COLOUR, MASK_ALPHA);\n        this._mask.lineStyle(1, MASK_COLOUR, 1);\n\n        // draw a shape\n        let positionX = 0;\n        let positionY = 0;\n        let width = ImageViewerHelper.getContainer().clientWidth;\n        let height = 500;\n        // let height = ImageViewerHelper.getContainer().clientHeight;\n        this._mask.moveTo(positionX, positionY);\n        this._mask.lineTo(positionX + width, positionY);\n        this._mask.lineTo(positionX + width, height);\n        this._mask.lineTo(positionX, height);\n        this._mask.endFill();\n\n        this._mask.position.x = 0;\n        this._mask.position.y = 0;\n        this._element.addChild(this._mask);\n        this._element.mask = this._mask;\n    }\n\n    handleScreenshotChange(ketPath, img){\n        if(this._screenshot){\n            this._element.removeChild(this._screenshot);\n            this._screenshot.destroy();\n        }\n        this._screenshot = new PIXI.Sprite(img.texture);\n        this._options = Object.assign(this._options, Images.getImageCenterParams(img.data, ImageViewerHelper.getContainer(), true));\n        this._element.addChild(this._screenshot);\n        this.resize();\n    }\n\n    /**\n     * For test reference, handle the mask position and size update\n     * @param keyPath\n     * @param data\n     */\n    handleSwipeBarPositionChange(keyPath, data) {\n        this._resizeMask();\n    }\n\n    resize() {\n        this._resizeMask();\n        if(!this._screenshot){\n            return;\n        }\n        this._options = Object.assign(this._options, Images.getImageCenterParams(this._options, ImageViewerHelper.getContainer()));\n        this._screenshot.width = this._options.width;\n        this._screenshot.height = this._options.height;\n        this._screenshot.position.x = this._options.positionX;\n        this._screenshot.position.y = this._options.positionY;\n    }\n\n    _resizeMask() {\n        this._mask.width = this._swipeBarPositionSubscriber.proxy.x;\n        this._mask.height = ImageViewerHelper.getContainer().clientHeight;\n    }\n}\n\nmodule.exports = ReferenceScreenshot;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/reference-screenshot/reference-screenshot.js","import * as PIXI from 'pixi.js';\nimport {Images, Strings} from './../../../lib/helpers/helpers';\nimport ImageViewerHelper from './../image-viewer-helper';\nimport Component from './../component';\nimport ImageViewerService from './../service/image-viewer-service';\n\nconst COLOUR = 0x0148A4;\nconst WIDTH = 2;\n\nclass SwipeBar extends Component {\n\n    constructor() {\n        super();\n\n        //default options\n        this._options = {\n            width:  WIDTH,\n            height: ImageViewerHelper.getBodyHeight(),\n            positionX: 0,\n            positionY: 0,\n        };\n\n        this._draggingData = undefined;\n\n        this._element = undefined;\n        this._createButtonStyle();\n        this._registerEventHandlers();\n        this.resetPosition();\n\n        ImageViewerService.subscribe('testScreenshot', this.handleScreenshotChange, 'Screenshot');\n        ImageViewerService.subscribe('referenceScreenshot', this.handleScreenshotChange, 'Screenshot');\n\n        window.addEventListener('resize', this.resize);\n        this.resize();\n    }\n\n    _createButtonStyle(){\n        this._element = new PIXI.Graphics();\n\n        // set a fill and line style\n        this._element.beginFill(COLOUR);\n        this._element.lineStyle(1, COLOUR, 1);\n\n        // draw a shape\n        this._element.moveTo(this._options.positionX, this._options.positionY);\n        this._element.lineTo(this._options.positionX + this._options.width, this._options.positionY);\n        this._element.lineTo(this._options.positionX + this._options.width, this._options.height);\n        this._element.lineTo(this._options.positionX, this._options.height);\n        this._element.endFill();\n\n        //enable button mode\n        this._element.interactive = true;\n        this._element.buttonMode = true;\n    }\n\n    _registerEventHandlers() {\n        this._element.on('pointerdown', this.onDragStart)\n            .on('pointerup', this.onDragEnd)\n            .on('pointerupoutside', this.onDragEnd)\n            .on('pointermove', this.onDragMove);\n    }\n\n    resetPosition() {\n        this._element.position.x = (ImageViewerHelper.getContainer().clientWidth - WIDTH) / 2;\n        ImageViewerService.setSwipeBarPosition({\n            x: this._element.position.x,\n        });\n    }\n\n    handleScreenshotChange(keyPath, data){\n        this.resize();\n        this.resetPosition();\n    }\n\n    resize() {\n        if(!this._element){\n            return;\n        }\n        let scale = this._element.height / ImageViewerHelper.getContainer().clientHeight;\n        this._element.position.x = this._element.position.x / scale;\n        this._element.height = ImageViewerHelper.getContainer().clientHeight;\n        ImageViewerService.setSwipeBarPosition({\n            x: this._element.position.x,\n        });\n    }\n\n\n    /*-------------------- handlers ---------------------*/\n    onDragStart(event) {\n        this._draggingData = event.data;\n    }\n\n    onDragEnd() {\n        this._draggingData = undefined;\n    }\n\n    onDragMove() {\n        if(this._draggingData) {\n            let newPositionX = this._draggingData.getLocalPosition(this._element.parent).x;\n            if(newPositionX <= WIDTH){\n                this._element.position.x = WIDTH;\n            }\n            if(newPositionX >= ImageViewerHelper.getContainer().clientWidth - WIDTH) {\n                newPositionX = ImageViewerHelper.getContainer().clientWidth - WIDTH;\n            }\n            this._element.position.x = newPositionX;\n            ImageViewerService.setSwipeBarPosition({\n                x: this._element.position.x,\n            });\n        }\n    }\n\n}\n\nmodule.exports = SwipeBar;\n\n\n\n// WEBPACK FOOTER //\n// ./components/image-viewer/swipe-bar/swipe-bar.js","import VisualNavigationMapModel from './visual-navigation-map-model';\n\n\nmodule.exports = class VisualNavigationMapView {\n\n    constructor(){\n        this.title = 'VisualNavigationMapView';\n    }\n\n    view(vnode) {\n        return m('div.b-visual-navigation-map', {\n            style: { 'background-image': `url(${VisualNavigationMapModel.getScreenShot()})`},\n        },[\n            m('h3.sr-only', `${vnode.state.title}`),\n        ]);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-navigation-map/visual-navigation-map-view.js","import StateService from '../service/state-service';\nimport DataService from '../service/data-service';\n\nclass VisualNavigationMapModel {\n\n    constructor(){\n    }\n\n    getScreenShot() {\n        let test = DataService.getCurrentVisualTest();\n        if(test.pass) {\n            return `${DataService.getAssetRootPath()}${DataService.getCurrentVisualTest().visualScreenshotPath}`;\n        } else {\n            return `${DataService.getAssetRootPath()}${DataService.getCurrentVisualTest().visualDifferPath}`;\n        }\n    }\n\n}\n\nmodule.exports = new VisualNavigationMapModel();\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-navigation-map/visual-navigation-map-model.js","import DetailsPanelModel from './details-panel-model';\n\nmodule.exports = class DetailsPanelView {\n\n    constructor(){\n        this.title = 'Details';\n    }\n\n    view(vnode) {\n        return m('div.b-details-panel', [\n            m('h3.b-title.b-title--h2.b-text--label', `${vnode.state.title}`),\n            m('p', `${DetailsPanelModel.getTestName()}`),\n            m('a.b-link', {\n                href: `${DetailsPanelModel.getTestPageUrl()}`,\n            }, `${DetailsPanelModel.getTestPageUrl()}`),\n\n            DetailsPanelModel.isResultPass() &&\n            m('p', 'The test is pass.'),\n\n            DetailsPanelModel.isResultFailed() &&\n            m('p', 'The test is failed.'),\n\n            DetailsPanelModel.isResultApproved() &&\n            m('p', `Approved at ${DetailsPanelModel.getTestApprovedDateTime()}`),\n\n            m('.b-link--block.b-box--margin-bottom-md-lg'),\n\n            m('h4.b-title.b-title--h3', 'Test'),\n            m('p', `Created at ${DetailsPanelModel.getTestCreateDateTime()}`),\n            m('p.b-box--margin-bottom-md-lg', `Browser ${DetailsPanelModel.getTestBrowserInfo()}`),\n\n            m('h4.b-title.b-title--h3', 'Reference'),\n            m('p', `Created at ${DetailsPanelModel.getReferenceCreateDate()}`),\n            m('p', `Browser: ${DetailsPanelModel.getReferenceBrowserInfo()}`),\n        ]);\n    }\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/details-panel/details-panel-view.js","import StateService from './../service/state-service';\nimport DataService from './../service/data-service';\nimport {Dates} from './../../lib/helpers/helpers';\n\nclass DetailsPanelModel {\n\n    getTestPageUrl() {\n        return DataService.getCurrentVisualTest().url;\n    }\n\n    getTestName() {\n        return DataService.getCurrentVisualTest().name;\n    }\n\n    getTestCreateDateTime() {\n        let date = Dates.getDate(DataService.getCurrentVisualTest().createdAt);\n        let hours = Dates.getHourMinute(DataService.getCurrentVisualTest().createdAt);\n        return `${hours}, ${date}`;\n    }\n\n    getTestApprovedDateTime() {\n        if(!DataService.getCurrentVisualTest().approvedAt) {\n            return '';\n        }\n        let date = Dates.getDate(DataService.getCurrentVisualTest().approvedAt);\n        let hours = Dates.getHourMinute(DataService.getCurrentVisualTest().approvedAt);\n        return `${hours}, ${date}`;\n    }\n\n    getReferenceCreateDate() {\n        let date = Dates.getDate(DataService.getCurrentVisualTestReference().createdAt);\n        let hours = Dates.getHourMinute(DataService.getCurrentVisualTestReference().createdAt);\n        return `${hours}, ${date}`;\n    }\n\n    getTestBrowserInfo() {\n        return DataService.getCurrentVisualTest().browser;\n    }\n\n    getReferenceBrowserInfo() {\n        return DataService.getCurrentVisualTestReference().browser;\n\n    }\n\n    isResultFailed() {\n        return !DataService.getCurrentVisualTest().pass;\n    }\n\n    isResultApproved() {\n        return DataService.getCurrentVisualTest().pass && DataService.getCurrentVisualTest().approvedAt;\n    }\n\n    isResultPass() {\n        return DataService.getCurrentVisualTest().pass && !DataService.getCurrentVisualTest().approvedAt;\n    }\n\n}\n\nmodule.exports = new DetailsPanelModel();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/details-panel/details-panel-model.js","import VisualSlideNextModel from './visual-slide-next-model';\n\nmodule.exports = class VisualSlideNextView {\n\n    constructor(){\n        this.title = 'VisualSlidePrevView';\n    }\n\n    view(vnode) {\n        return m('div.b-visual-slide-next', [\n            m('h3.sr-only', `${vnode.state.title}`),\n            m('a.b-link[href=javascript:void(0);]',\n                {\n                    onclick() {\n                        VisualSlideNextModel.setNextTest();\n                    },\n                },\n                [\n                    m('span', 'next'),\n                ]\n            ),\n        ]);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-slide-next/visual-slide-next-view.js","import DataService from './../service/data-service';\nimport StateService from './../service/state-service';\n\nclass VisualSlideNextModel {\n\n    constructor(){\n\n    }\n\n    setNextTest() {\n        StateService.setNextVisualTest();\n    }\n\n}\n\nmodule.exports = new VisualSlideNextModel();\n\n\n// WEBPACK FOOTER //\n// ./components/visual-slide-next/visual-slide-next-model.js","import VisualSlidePrevModel from './visual-slide-prev-model';\n\nmodule.exports = class VisualSlidePrevView {\n\n    constructor(){\n        this.title = 'VisualSlideNextView';\n    }\n\n    view(vnode) {\n        return m('div.b-visual-slide-next', [\n            m('h3.sr-only', `${vnode.state.title}`),\n            m('a.b-link[href=javascript:void(0);]',\n                {\n                    onclick() {\n                        VisualSlidePrevModel.setPreviousTest();\n                    },\n                },\n                [\n                    m('span', 'prev'),\n                ]\n            ),\n        ]);\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/visual-slide-prev/visual-slide-prev-view.js","import DataService from './../service/data-service';\nimport StateService from './../service/state-service';\n\nclass VisualSlidePrevModel {\n\n    constructor() {\n\n    }\n\n    setPreviousTest() {\n        StateService.setPreviousVisualTest();\n    }\n\n}\n\nmodule.exports = new VisualSlidePrevModel();\n\n\n// WEBPACK FOOTER //\n// ./components/visual-slide-prev/visual-slide-prev-model.js","import ControlMenuModel from './control-menu-model';\n\nmodule.exports = class ControlMenuView {\n\n    constructor(){\n        this.title = 'ControlMenuView';\n    }\n\n    view(vnode) {\n        return m('div.b-control-menu', [\n            m('h3.sr-only', `${vnode.state.title}`),\n\n            m('a.b-link.b-link--block[href=javascript:void(0);]',\n                {\n                    onclick(){ControlMenuModel.toggleDetailsPanel();},\n                },\n                [m('span', 'show failed only')]\n            ),\n\n            m('a.b-link.b-link--block[href=javascript:void(0);]',\n                {\n                    onclick(){ControlMenuModel.toggleDetailsPanel();},\n                },\n                [m('span', 'show approved only')]\n            ),\n\n            m('a.b-link.b-link--block[href=javascript:void(0);]',\n                {\n                    onclick(){ControlMenuModel.toggleDetailsPanel();},\n                },\n                [m('span', 'toggle details')]\n            ),\n\n            ControlMenuModel.isResultFailed() &&\n            m('a.b-link.b-link--block[href=javascript:void(0);]',\n                {\n                    onclick(){ControlMenuModel.approveTest();},\n                },\n                [m('span', 'approve test')]\n            ),\n\n            ControlMenuModel.isResultPass() &&\n            m('p', 'pass'),\n\n            ControlMenuModel.isResultApproved() &&\n            m('p', 'approved'),\n\n        ]);\n    }\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/control-menu/control-menu-view.js","import StateService from './../service/state-service';\nimport DataService from './../service/data-service';\n\nclass ControlMenuModel {\n\n    constructor(){\n        this.title = 'ControlMenuModel';\n    }\n\n    approveTest() {\n        StateService.approveCurrentTest();\n    }\n\n    toggleDetailsPanel() {\n        if(DataService.isDetailsPanelVisible()){\n            StateService.hideDetailsPanel();\n        } else {\n            StateService.showDetailsPanel();\n        }\n    }\n\n    isAllApproved() {\n\n    }\n\n    hasFailedTests() {\n\n    }\n\n    countFailedTotal() {\n\n    }\n\n    countApprovedTotal() {\n\n    }\n\n    countTotalTests() {\n\n    }\n\n    isResultFailed() {\n        return !DataService.getCurrentVisualTest().pass;\n    }\n\n    isResultApproved() {\n        return DataService.getCurrentVisualTest().pass && DataService.getCurrentVisualTest().approvedAt;\n    }\n\n    isResultPass() {\n        return DataService.getCurrentVisualTest().pass && !DataService.getCurrentVisualTest().approvedAt;\n    }\n\n}\n\nmodule.exports = new ControlMenuModel();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/control-menu/control-menu-model.js","import SplashPageModel from './splash-page-model';\n\nmodule.exports = class SplashPageView {\n\n    constructor() {\n        this._looper = null;\n        this._dataLoaded = false;\n        this._routeToMainInvokedCount = 0;\n    }\n\n    oninit() {\n        this._dataLoaded = false;\n        Promise.all([\n            SplashPageModel.fetchHistoryList(),\n        ]).then(() => {\n            this._dataLoaded = true;\n            if (this._routeToMainInvokedCount) {\n                this.routeToMain();\n            }\n        });\n    }\n\n    view(/*vnode*/) {\n        return m('.holder', [\n            m('.preloader', [\n                m('div'),\n                m('div'),\n                m('div'),\n                m('div'),\n                m('div'),\n                m('div'),\n                m('div'),\n            ]),\n        ]);\n    }\n\n    oncreate() {\n        this._looper = setTimeout(this.routeToMain.bind(this), 2000);\n    }\n\n    routeToMain() {\n        this._routeToMainInvokedCount++;\n        if (this._dataLoaded) {\n            clearTimeout(this._looper);\n            m.route.set('/landing');\n        }\n    }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./components/splash-page/splash-page-view.js","import DataService from '../service/data-service';\n\nclass SplashPageModel {\n\n    constructor() {\n\n    }\n\n    fetchHistoryList() {\n        return DataService.fetchHistoryList();\n    }\n\n}\n\nmodule.exports = new SplashPageModel();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/splash-page/splash-page-model.js","/**\n * Helper utility methods\n */\n\n/**\n * Booleans helper class\n */\nclass Booleans {\n    /**\n     * Check if the variable has a truthy value or not,\n     * will evaluate to true if value is not: null/undefined/NaN/empty string (\"\")/0/false\n     * @see http://stackoverflow.com/questions/3571717/javascript-negative-number\n     * @see http://stackoverflow.com/questions/6449611/how-to-check-whether-a-value-is-a-number-in-javascript-or-jquery\n     *\n     * @param {Number|*} val - The value to test\n     * @returns {boolean} - true if the value is \"truthy\", else false\n     */\n    static isTruthyValue (val) {\n        return (val || parseInt(val, 10) === 0) ? true : false;\n    }\n\n}\n\nexport {Booleans};\n\n\n// WEBPACK FOOTER //\n// ./lib/helpers/booleans.js","import _ from 'lodash';\n\nimport {Objects} from './../../lib/helpers/helpers';\nimport config from './../../config';\nimport ComponentHelpers from './../component-helpers/component-helpers';\nimport AbstractDataService from './../../lib/abstract-data-service';\n\nconst historyEndpoint = `${config.apiRootPath}/history`;\nconst visualEndpoint = `${config.apiRootPath}/visual`;\n\nclass DataService extends AbstractDataService {\n\n    constructor() {\n        super();\n\n        this._data = {\n            histories : [],\n            currentHistory : {},\n            currentVisualTest: {},\n            currentVisualReference: {},\n        };\n\n        this._detailsPanelsVisibilty = false;\n    }\n\n    getAssetRootPath() {\n        return 'regression-tests/';\n    }\n\n    fetchHistoryList() {\n\n        return new Promise((resolve, reject)=> {\n\n            if(_.isEmpty(this._data.histories)) {\n                m.request({\n                    method: 'GET',\n                    url: historyEndpoint,\n                }).then((result)=> {\n                    if(result && result.data) {\n                        Object.assign(\n                            this._data.histories,\n                            ComponentHelpers.History.sortHistory(result.data)\n                        );\n                        this.broadcastDataChanges('histories');\n                        resolve(this._data.histories);\n                    } else {\n                        reject(undefined);\n                    }\n                }).catch((err)=> {\n                    console.warn('List history err', err);\n                    reject(undefined);\n                });\n            } else {\n                resolve(this._data.histories);\n            }\n        });\n\n    }\n\n    setCurrentHistory(id) {\n        return new Promise((resolve, reject)=> {\n            m.request({\n                method: 'GET',\n                url: `${historyEndpoint}?id=${id}`,\n            }).then((result)=> {\n                if(result && result.data) {\n                    Objects.empty(this._data.currentHistory);\n                    Object.assign(\n                        this._data.currentHistory,\n                        result.data,\n                        {visualTests: ComponentHelpers.Visual.sortTestResults(result.data.visualTests)}\n                    );\n                    this.broadcastDataChanges('currentHistory');\n                    resolve(this._data.currentHistory);\n                } else {\n                    reject(undefined);\n                }\n            }).catch((err)=> {\n                console.warn('setCurrentHistory err', err);\n                reject(undefined);\n            });\n        });\n    }\n\n    getCurrentHistory() {\n        return this._data.currentHistory;\n    }\n\n    setCurrentVisualTest(test) {\n        Objects.empty(this._data.currentVisualTest);\n        Object.assign(this._data.currentVisualTest, test);\n        this.broadcastDataChanges('currentVisualTest');\n        return this._data.currentVisualTest;\n    }\n\n    getCurrentVisualTest() {\n        return this._data.currentVisualTest;\n    }\n\n    approveTest(test) {\n        return new Promise((resolve, reject)=> {\n\n            m.request({\n                method: 'PUT',\n                url: visualEndpoint,\n                data: {\n                    historyId: test.historyId,\n                    visualReferenceId: test.visualReferenceId,\n                    visualScreenshot: test.visualScreenshot,\n                    browser: test.browser,\n                    url: test.url,\n                    name: test.name,\n                    visualScreenshotPath: test.visualScreenshotPath,\n                    _id: test._id,\n                },\n            }).then((result)=> {\n                if(result && result.data) {\n                    Object.assign(test, result.data);\n                    resolve(result.data);\n                } else {\n                    reject(undefined);\n                }\n            }).catch((err)=> {\n                console.warn('Approve test err', err);\n                reject(undefined);\n            });\n\n        });\n    }\n\n    setCurrentVisualTestReference(test) {\n        Objects.empty(this._data.currentVisualReference);\n        Object.assign(this._data.currentVisualReference,\n            ComponentHelpers.Visual.findTestReference(test, this._data.currentHistory.visualReferences));\n        this.broadcastDataChanges('currentVisualReference');\n        return this._data.currentVisualReference;\n\n    }\n\n    getCurrentVisualTestReference() {\n        return this._data.currentVisualReference;\n    }\n\n    setDetailsPanelVisibility(value=true) {\n        this._detailsPanelsVisibility = value;\n    }\n\n    isDetailsPanelVisible() {\n        return this._detailsPanelsVisibility;\n    }\n\n    /*---------------------- helpers -------------------------*/\n\n}\n\nmodule.exports = new DataService();\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/service/data-service.js"],"sourceRoot":""}